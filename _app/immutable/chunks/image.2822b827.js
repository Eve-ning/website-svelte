import{H as Yr}from"./control.f5b05b5f.js";import{_ as Xr}from"./preload-helper.a4192956.js";const Qr=typeof navigator>"u"?!1:navigator.product==="ReactNative",Ve={timeout:Qr?6e4:12e4},Kr=function(t){const e={...Ve,...typeof t=="string"?{url:t}:t},{searchParams:n}=new URL(e.url,"http://localhost");if(e.timeout=Ge(e.timeout),e.query){for(const[a,o]of Object.entries(e.query))if(o!==void 0)if(Array.isArray(o))for(const d of o)n.append(a,d);else n.append(a,o)}const[i]=e.url.split("?"),s=n.toString();return s&&(e.url="".concat(i,"?").concat(s)),e.method=e.body&&!e.method?"POST":(e.method||"GET").toUpperCase(),e};function Ge(r){if(r===!1||r===0)return!1;if(r.connect||r.socket)return r;const t=Number(r);return isNaN(t)?Ge(Ve.timeout):{connect:t,socket:t}}const Zr=/^https?:\/\//i,tn=function(t){if(!Zr.test(t.url))throw new Error('"'.concat(t.url,'" is not a valid URL'))};var en=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Je(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var he=function(r){return r.replace(/^\s+|\s+$/g,"")},rn=function(r){return Object.prototype.toString.call(r)==="[object Array]"},nn=function(r){if(!r)return{};for(var t={},e=he(r).split(`
`),n=0;n<e.length;n++){var i=e[n],s=i.indexOf(":"),a=he(i.slice(0,s)).toLowerCase(),o=he(i.slice(s+1));typeof t[a]>"u"?t[a]=o:rn(t[a])?t[a].push(o):t[a]=[t[a],o]}return t};const sn=Je(nn),on=r=>function(e,n){const i=e==="onError";let s=n;for(var a=arguments.length,o=new Array(a>2?a-2:0),d=2;d<a;d++)o[d-2]=arguments[d];for(let m=0;m<r[e].length;m++){const f=r[e][m];if(s=f(s,...o),i&&!s)break}return s};function an(){const r=Object.create(null);let t=0;function e(i){const s=t++;return r[s]=i,function(){delete r[s]}}function n(i){for(const s in r)r[s](i)}return{publish:n,subscribe:e}}const cn=["request","response","progress","error","abort"],Ie=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function Ye(r,t){const e=[],n=Ie.reduce((s,a)=>(s[a]=s[a]||[],s),{processOptions:[Kr],validateOptions:[tn]});function i(s){const a=(S,y,w)=>{let O=S,T=y;if(!O)try{T=d("onResponse",y,w)}catch(j){T=null,O=j}O=O&&d("onError",O,w),O?o.error.publish(O):T&&o.response.publish(T)},o=cn.reduce((S,y)=>(S[y]=an(),S),{}),d=on(n),m=d("processOptions",s);d("validateOptions",m);const f={options:m,channels:o,applyMiddleware:d};let p;const g=o.request.subscribe(S=>{p=t(S,(y,w)=>a(y,w,S))});o.abort.subscribe(()=>{g(),p&&p.abort()});const E=d("onReturn",o,f);return E===o&&o.request.publish(f),E}return i.use=function(a){if(!a)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof a=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(a.onReturn&&n.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return Ie.forEach(o=>{a[o]&&n[o].push(a[o])}),e.push(a),i},i.clone=()=>Ye(e,t),r.forEach(i.use),i}var un=Object.defineProperty,ln=(r,t,e)=>t in r?un(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,k=(r,t,e)=>(ln(r,typeof t!="symbol"?t+"":t,e),e),Xe=(r,t,e)=>{if(!t.has(r))throw TypeError("Cannot "+e)},D=(r,t,e)=>(Xe(r,t,"read from private field"),e?e.call(r):t.get(r)),tt=(r,t,e)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,e)},V=(r,t,e,n)=>(Xe(r,t,"write to private field"),n?n.call(r,e):t.set(r,e),e),$t,jt,ht,Dt,G,Ut,kt;class Qe{constructor(){k(this,"onabort"),k(this,"onerror"),k(this,"onreadystatechange"),k(this,"ontimeout"),k(this,"readyState",0),k(this,"response"),k(this,"responseText"),k(this,"responseType",""),k(this,"status"),k(this,"statusText"),k(this,"withCredentials"),tt(this,$t,void 0),tt(this,jt,void 0),tt(this,ht,void 0),tt(this,Dt,{}),tt(this,G,void 0),tt(this,Ut,{}),tt(this,kt,void 0)}open(t,e,n){V(this,$t,t),V(this,jt,e),V(this,ht,""),this.readyState=1,this.onreadystatechange(),V(this,G,void 0)}abort(){D(this,G)&&D(this,G).abort()}getAllResponseHeaders(){return D(this,ht)}setRequestHeader(t,e){D(this,Dt)[t]=e}setInit(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;V(this,Ut,t),V(this,kt,e)}send(t){const e=this.responseType!=="arraybuffer",n={...D(this,Ut),method:D(this,$t),headers:D(this,Dt),body:t};typeof AbortController=="function"&&D(this,kt)&&(V(this,G,new AbortController),typeof EventTarget<"u"&&D(this,G).signal instanceof EventTarget&&(n.signal=D(this,G).signal)),typeof document<"u"&&(n.credentials=this.withCredentials?"include":"omit"),fetch(D(this,jt),n).then(i=>(i.headers.forEach((s,a)=>{V(this,ht,D(this,ht)+"".concat(a,": ").concat(s,`\r
`))}),this.status=i.status,this.statusText=i.statusText,this.readyState=3,e?i.text():i.arrayBuffer())).then(i=>{typeof i=="string"?this.responseText=i:this.response=i,this.readyState=4,this.onreadystatechange()}).catch(i=>{var s;if(i.name==="AbortError"){this.onabort();return}(s=this.onerror)==null||s.call(this,i)})}}$t=new WeakMap;jt=new WeakMap;ht=new WeakMap;Dt=new WeakMap;G=new WeakMap;Ut=new WeakMap;kt=new WeakMap;const ye=typeof XMLHttpRequest=="function"?"xhr":"fetch",fn=ye==="xhr"?XMLHttpRequest:Qe,hn=(r,t)=>{var e;const n=r.options,i=r.applyMiddleware("finalizeOptions",n),s={},a=r.applyMiddleware("interceptRequest",void 0,{adapter:ye,context:r});if(a){const _=setTimeout(t,0,null,a);return{abort:()=>clearTimeout(_)}}let o=new fn;o instanceof Qe&&typeof i.fetch=="object"&&o.setInit(i.fetch,(e=i.useAbortSignal)!=null?e:!0);const d=i.headers,m=i.timeout;let f=!1,p=!1,g=!1;if(o.onerror=_=>{O(new Error("Request error while attempting to reach ".concat(i.url).concat(_.lengthComputable?"(".concat(_.loaded," of ").concat(_.total," bytes transferred)"):"")))},o.ontimeout=_=>{O(new Error("Request timeout while attempting to reach ".concat(i.url).concat(_.lengthComputable?"(".concat(_.loaded," of ").concat(_.total," bytes transferred)"):"")))},o.onabort=()=>{w(!0),f=!0},o.onreadystatechange=()=>{y(),!(f||o.readyState!==4)&&o.status!==0&&j()},o.open(i.method,i.url,!0),o.withCredentials=!!i.withCredentials,d&&o.setRequestHeader)for(const _ in d)d.hasOwnProperty(_)&&o.setRequestHeader(_,d[_]);return i.rawBody&&(o.responseType="arraybuffer"),r.applyMiddleware("onRequest",{options:i,adapter:ye,request:o,context:r}),o.send(i.body||null),m&&(s.connect=setTimeout(()=>S("ETIMEDOUT"),m.connect)),{abort:E};function E(){f=!0,o&&o.abort()}function S(_){g=!0,o.abort();const I=new Error(_==="ESOCKETTIMEDOUT"?"Socket timed out on request to ".concat(i.url):"Connection timed out on request to ".concat(i.url));I.code=_,r.channels.error.publish(I)}function y(){m&&(w(),s.socket=setTimeout(()=>S("ESOCKETTIMEDOUT"),m.socket))}function w(_){(_||f||o.readyState>=2&&s.connect)&&clearTimeout(s.connect),s.socket&&clearTimeout(s.socket)}function O(_){if(p)return;w(!0),p=!0,o=null;const I=_||new Error("Network error while attempting to reach ".concat(i.url));I.isNetworkError=!0,I.request=i,t(I)}function T(){return{body:o.response||(o.responseType===""||o.responseType==="text"?o.responseText:""),url:i.url,method:i.method,headers:sn(o.getAllResponseHeaders()),statusCode:o.status,statusMessage:o.statusText}}function j(){if(!(f||p||g)){if(o.status===0){O(new Error("Unknown XHR error"));return}w(),p=!0,t(null,T())}}},dn=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hn;return Ye(r,t)};var Me={exports:{}},de,Fe;function pn(){if(Fe)return de;Fe=1;var r=1e3,t=r*60,e=t*60,n=e*24,i=n*7,s=n*365.25;de=function(f,p){p=p||{};var g=typeof f;if(g==="string"&&f.length>0)return a(f);if(g==="number"&&isFinite(f))return p.long?d(f):o(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))};function a(f){if(f=String(f),!(f.length>100)){var p=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(f);if(p){var g=parseFloat(p[1]),E=(p[2]||"ms").toLowerCase();switch(E){case"years":case"year":case"yrs":case"yr":case"y":return g*s;case"weeks":case"week":case"w":return g*i;case"days":case"day":case"d":return g*n;case"hours":case"hour":case"hrs":case"hr":case"h":return g*e;case"minutes":case"minute":case"mins":case"min":case"m":return g*t;case"seconds":case"second":case"secs":case"sec":case"s":return g*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}function o(f){var p=Math.abs(f);return p>=n?Math.round(f/n)+"d":p>=e?Math.round(f/e)+"h":p>=t?Math.round(f/t)+"m":p>=r?Math.round(f/r)+"s":f+"ms"}function d(f){var p=Math.abs(f);return p>=n?m(f,p,n,"day"):p>=e?m(f,p,e,"hour"):p>=t?m(f,p,t,"minute"):p>=r?m(f,p,r,"second"):f+" ms"}function m(f,p,g,E){var S=p>=g*1.5;return Math.round(f/g)+" "+E+(S?"s":"")}return de}function gn(r){e.debug=e,e.default=e,e.coerce=d,e.disable=s,e.enable=i,e.enabled=a,e.humanize=pn(),e.destroy=m,Object.keys(r).forEach(f=>{e[f]=r[f]}),e.names=[],e.skips=[],e.formatters={};function t(f){let p=0;for(let g=0;g<f.length;g++)p=(p<<5)-p+f.charCodeAt(g),p|=0;return e.colors[Math.abs(p)%e.colors.length]}e.selectColor=t;function e(f){let p,g=null,E,S;function y(...w){if(!y.enabled)return;const O=y,T=Number(new Date),j=T-(p||T);O.diff=j,O.prev=p,O.curr=T,p=T,w[0]=e.coerce(w[0]),typeof w[0]!="string"&&w.unshift("%O");let _=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,(B,Q)=>{if(B==="%%")return"%";_++;const lt=e.formatters[Q];if(typeof lt=="function"){const ft=w[_];B=lt.call(O,ft),w.splice(_,1),_--}return B}),e.formatArgs.call(O,w),(O.log||e.log).apply(O,w)}return y.namespace=f,y.useColors=e.useColors(),y.color=e.selectColor(f),y.extend=n,y.destroy=e.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>g!==null?g:(E!==e.namespaces&&(E=e.namespaces,S=e.enabled(f)),S),set:w=>{g=w}}),typeof e.init=="function"&&e.init(y),y}function n(f,p){const g=e(this.namespace+(typeof p>"u"?":":p)+f);return g.log=this.log,g}function i(f){e.save(f),e.namespaces=f,e.names=[],e.skips=[];let p;const g=(typeof f=="string"?f:"").split(/[\s,]+/),E=g.length;for(p=0;p<E;p++)g[p]&&(f=g[p].replace(/\*/g,".*?"),f[0]==="-"?e.skips.push(new RegExp("^"+f.slice(1)+"$")):e.names.push(new RegExp("^"+f+"$")))}function s(){const f=[...e.names.map(o),...e.skips.map(o).map(p=>"-"+p)].join(",");return e.enable(""),f}function a(f){if(f[f.length-1]==="*")return!0;let p,g;for(p=0,g=e.skips.length;p<g;p++)if(e.skips[p].test(f))return!1;for(p=0,g=e.names.length;p<g;p++)if(e.names[p].test(f))return!0;return!1}function o(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}function d(f){return f instanceof Error?f.stack||f.message:f}function m(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return e.enable(e.load()),e}var mn=gn;(function(r,t){t.formatArgs=n,t.save=i,t.load=s,t.useColors=e,t.storage=a(),t.destroy=(()=>{let d=!1;return()=>{d||(d=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function e(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+r.exports.humanize(this.diff),!this.useColors)return;const m="color: "+this.color;d.splice(1,0,m,"color: inherit");let f=0,p=0;d[0].replace(/%[a-zA-Z%]/g,g=>{g!=="%%"&&(f++,g==="%c"&&(p=f))}),d.splice(p,0,m)}t.log=console.debug||console.log||(()=>{});function i(d){try{d?t.storage.setItem("debug",d):t.storage.removeItem("debug")}catch{}}function s(){let d;try{d=t.storage.getItem("debug")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d={}.DEBUG),d}function a(){try{return localStorage}catch{}}r.exports=mn(t);const{formatters:o}=r.exports;o.j=function(d){try{return JSON.stringify(d)}catch(m){return"[UnexpectedJSONParseError]: "+m.message}}})(Me,Me.exports);/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function qe(r){return Object.prototype.toString.call(r)==="[object Object]"}function yn(r){var t,e;return qe(r)===!1?!1:(t=r.constructor,t===void 0?!0:(e=t.prototype,!(qe(e)===!1||e.hasOwnProperty("isPrototypeOf")===!1)))}const vn=typeof Buffer>"u"?()=>!1:r=>Buffer.isBuffer(r),wn=["boolean","string","number"];function bn(){return{processOptions:r=>{const t=r.body;return!t||!(!(typeof t.pipe=="function")&&!vn(t)&&(wn.indexOf(typeof t)!==-1||Array.isArray(t)||yn(t)))?r:Object.assign({},r,{body:JSON.stringify(r.body),headers:Object.assign({},r.headers,{"Content-Type":"application/json"})})}}}function Cn(r){return{onResponse:e=>{const n=e.headers["content-type"]||"",i=r&&r.force||n.indexOf("application/json")!==-1;return!e.body||!n||!i?e:Object.assign({},e,{body:t(e.body)})},processOptions:e=>Object.assign({},e,{headers:Object.assign({Accept:"application/json"},e.headers)})};function t(e){try{return JSON.parse(e)}catch(n){throw n.message="Failed to parsed response body as JSON: ".concat(n.message),n}}}let bt={};typeof globalThis<"u"?bt=globalThis:typeof window<"u"?bt=window:typeof global<"u"?bt=global:typeof self<"u"&&(bt=self);var _n=bt;function En(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).implementation||_n.Observable;if(!t)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(e,n)=>new t(i=>(e.error.subscribe(s=>i.error(s)),e.progress.subscribe(s=>i.next(Object.assign({type:"progress"},s))),e.response.subscribe(s=>{i.next(Object.assign({type:"response"},s)),i.complete()}),e.request.publish(n),()=>e.abort.publish()))}}function On(){return{onRequest:r=>{if(r.adapter!=="xhr")return;const t=r.request,e=r.context;"upload"in t&&"onprogress"in t.upload&&(t.upload.onprogress=n("upload")),"onprogress"in t&&(t.onprogress=n("download"));function n(i){return s=>{const a=s.lengthComputable?s.loaded/s.total*100:-1;e.channels.progress.publish({stage:i,percent:a,total:s.total,loaded:s.loaded,lengthComputable:s.lengthComputable})}}}}}var Sn=Object.defineProperty,Tn=(r,t,e)=>t in r?Sn(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,xt=(r,t,e)=>(Tn(r,typeof t!="symbol"?t+"":t,e),e);class An{constructor(t){xt(this,"__CANCEL__",!0),xt(this,"message"),this.message=t}toString(){return"Cancel".concat(this.message?": ".concat(this.message):"")}}const $e=class{constructor(t){if(xt(this,"promise"),xt(this,"reason"),typeof t!="function")throw new TypeError("executor must be a function.");let e=null;this.promise=new Promise(n=>{e=n}),t(n=>{this.reason||(this.reason=new An(n),e(this.reason))})}};xt($e,"source",()=>{let r;return{token:new $e(e=>{r=e}),cancel:r}});var Ke=(r,t,e)=>e.method!=="GET"&&e.method!=="HEAD"?!1:r.isNetworkError||!1;const xn=r=>r!==null&&typeof r=="object"&&typeof r.pipe=="function";var Pn=r=>{const t=r.maxRetries||5,e=r.retryDelay||Rn,n=r.shouldRetry;return{onError:(i,s)=>{const a=s.options,o=a.maxRetries||t,d=a.shouldRetry||n,m=a.attemptNumber||0;if(xn(a.body)||!d(i,m,a)||m>=o)return i;const f=Object.assign({},s,{options:Object.assign({},a,{attemptNumber:m+1})});return setTimeout(()=>s.channels.request.publish(f),e(m)),null}}};function Rn(r){return 100*Math.pow(2,r)+Math.random()*100}const Ee=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Pn({shouldRetry:Ke,...r})};Ee.shouldRetry=Ke;var ve=function(r,t){return ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},ve(r,t)};function Oe(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ve(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}function je(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Jt(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,s=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(o){a={error:o}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return s}function Yt(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return r.concat(s||Array.prototype.slice.call(t))}function N(r){return typeof r=="function"}function Ze(r){var t=function(n){Error.call(n),n.stack=new Error().stack},e=r(t);return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var pe=Ze(function(r){return function(e){r(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e}});function De(r,t){if(r){var e=r.indexOf(t);0<=e&&r.splice(e,1)}}var Se=function(){function r(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return r.prototype.unsubscribe=function(){var t,e,n,i,s;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var o=je(a),d=o.next();!d.done;d=o.next()){var m=d.value;m.remove(this)}}catch(y){t={error:y}}finally{try{d&&!d.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}else a.remove(this);var f=this.initialTeardown;if(N(f))try{f()}catch(y){s=y instanceof pe?y.errors:[y]}var p=this._finalizers;if(p){this._finalizers=null;try{for(var g=je(p),E=g.next();!E.done;E=g.next()){var S=E.value;try{Ue(S)}catch(y){s=s??[],y instanceof pe?s=Yt(Yt([],Jt(s)),Jt(y.errors)):s.push(y)}}}catch(y){n={error:y}}finally{try{E&&!E.done&&(i=g.return)&&i.call(g)}finally{if(n)throw n.error}}}if(s)throw new pe(s)}},r.prototype.add=function(t){var e;if(t&&t!==this)if(this.closed)Ue(t);else{if(t instanceof r){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}},r.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},r.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},r.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&De(e,t)},r.prototype.remove=function(t){var e=this._finalizers;e&&De(e,t),t instanceof r&&t._removeParent(this)},r.EMPTY=function(){var t=new r;return t.closed=!0,t}(),r}();Se.EMPTY;function tr(r){return r instanceof Se||r&&"closed"in r&&N(r.remove)&&N(r.add)&&N(r.unsubscribe)}function Ue(r){N(r)?r():r.unsubscribe()}var er={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},we={setTimeout:function(r,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];var i=we.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,Yt([r,t],Jt(e))):setTimeout.apply(void 0,Yt([r,t],Jt(e)))},clearTimeout:function(r){var t=we.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(r)},delegate:void 0};function In(r){we.setTimeout(function(){throw r})}function ke(){}function Mn(r){r()}var Te=function(r){Oe(t,r);function t(e){var n=r.call(this)||this;return n.isStopped=!1,e?(n.destination=e,tr(e)&&e.add(n)):n.destination=jn,n}return t.create=function(e,n,i){return new be(e,n,i)},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Se),Fn=Function.prototype.bind;function ge(r,t){return Fn.call(r,t)}var qn=function(){function r(t){this.partialObserver=t}return r.prototype.next=function(t){var e=this.partialObserver;if(e.next)try{e.next(t)}catch(n){qt(n)}},r.prototype.error=function(t){var e=this.partialObserver;if(e.error)try{e.error(t)}catch(n){qt(n)}else qt(t)},r.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(e){qt(e)}},r}(),be=function(r){Oe(t,r);function t(e,n,i){var s=r.call(this)||this,a;if(N(e)||!e)a={next:e??void 0,error:n??void 0,complete:i??void 0};else{var o;s&&er.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=function(){return s.unsubscribe()},a={next:e.next&&ge(e.next,o),error:e.error&&ge(e.error,o),complete:e.complete&&ge(e.complete,o)}):a=e}return s.destination=new qn(a),s}return t}(Te);function qt(r){In(r)}function $n(r){throw r}var jn={closed:!0,next:ke,error:$n,complete:ke},Dn=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Un(r){return r}function kn(r){return r.length===0?Un:r.length===1?r[0]:function(e){return r.reduce(function(n,i){return i(n)},e)}}var Pt=function(){function r(t){t&&(this._subscribe=t)}return r.prototype.lift=function(t){var e=new r;return e.source=this,e.operator=t,e},r.prototype.subscribe=function(t,e,n){var i=this,s=Wn(t)?t:new be(t,e,n);return Mn(function(){var a=i,o=a.operator,d=a.source;s.add(o?o.call(s,d):d?i._subscribe(s):i._trySubscribe(s))}),s},r.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},r.prototype.forEach=function(t,e){var n=this;return e=He(e),new e(function(i,s){var a=new be({next:function(o){try{t(o)}catch(d){s(d),a.unsubscribe()}},error:s,complete:i});n.subscribe(a)})},r.prototype._subscribe=function(t){var e;return(e=this.source)===null||e===void 0?void 0:e.subscribe(t)},r.prototype[Dn]=function(){return this},r.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return kn(t)(this)},r.prototype.toPromise=function(t){var e=this;return t=He(t),new t(function(n,i){var s;e.subscribe(function(a){return s=a},function(a){return i(a)},function(){return n(s)})})},r.create=function(t){return new r(t)},r}();function He(r){var t;return(t=r??er.Promise)!==null&&t!==void 0?t:Promise}function Hn(r){return r&&N(r.next)&&N(r.error)&&N(r.complete)}function Wn(r){return r&&r instanceof Te||Hn(r)&&tr(r)}function Ln(r){return N(r==null?void 0:r.lift)}function rr(r){return function(t){if(Ln(t))return t.lift(function(e){try{return r(e,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function nr(r,t,e,n,i){return new Nn(r,t,e,n,i)}var Nn=function(r){Oe(t,r);function t(e,n,i,s,a,o){var d=r.call(this,e)||this;return d.onFinalize=a,d.shouldUnsubscribe=o,d._next=n?function(m){try{n(m)}catch(f){e.error(f)}}:r.prototype._next,d._error=s?function(m){try{s(m)}catch(f){e.error(f)}finally{this.unsubscribe()}}:r.prototype._error,d._complete=i?function(){try{i()}catch(m){e.error(m)}finally{this.unsubscribe()}}:r.prototype._complete,d}return t.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;r.prototype.unsubscribe.call(this),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}},t}(Te),zn=Ze(function(r){return function(){r(this),this.name="EmptyError",this.message="no elements in sequence"}});function R(r,t){var e=typeof t=="object";return new Promise(function(n,i){var s=!1,a;r.subscribe({next:function(o){a=o,s=!0},error:i,complete:function(){s?n(a):e?n(t.defaultValue):i(new zn)}})})}function ut(r,t){return rr(function(e,n){var i=0;e.subscribe(nr(n,function(s){n.next(r.call(t,s,i++))}))})}function Rt(r,t){return rr(function(e,n){var i=0;e.subscribe(nr(n,function(s){return r.call(t,s,i++)&&n.next(s)}))})}var ir=[],Bn=Object.defineProperty,Vn=(r,t,e)=>t in r?Bn(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,J=(r,t,e)=>(Vn(r,typeof t!="symbol"?t+"":t,e),e);const me=5;class Gn extends Error{constructor(t){const e=sr(t);super(e.message),J(this,"response"),J(this,"statusCode",400),J(this,"responseBody"),J(this,"details"),Object.assign(this,e)}}class Jn extends Error{constructor(t){const e=sr(t);super(e.message),J(this,"response"),J(this,"statusCode",500),J(this,"responseBody"),J(this,"details"),Object.assign(this,e)}}function sr(r){const t=r.body,e={response:r,statusCode:r.statusCode,responseBody:Qn(t,r),message:"",details:void 0};if(t.error&&t.message)return e.message="".concat(t.error," - ").concat(t.message),e;if(Yn(t)){const n=t.error.items||[],i=n.slice(0,me).map(a=>{var o;return(o=a.error)==null?void 0:o.description}).filter(Boolean);let s=i.length?`:
- `.concat(i.join(`
- `)):"";return n.length>me&&(s+=`
...and `.concat(n.length-me," more")),e.message="".concat(t.error.description).concat(s),e.details=t.error,e}return t.error&&t.error.description?(e.message=t.error.description,e.details=t.error,e):(e.message=t.error||t.message||Xn(r),e)}function Yn(r){return We(r)&&We(r.error)&&r.error.type==="mutationError"&&typeof r.error.description=="string"}function We(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)}function Xn(r){const t=r.statusMessage?" ".concat(r.statusMessage):"";return"".concat(r.method,"-request to ").concat(r.url," resulted in HTTP ").concat(r.statusCode).concat(t)}function Qn(r,t){return(t.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(r,null,2):r}const Kn={onResponse:r=>{if(r.statusCode>=500)throw new Jn(r);if(r.statusCode>=400)throw new Gn(r);return r}},Zn={onResponse:r=>{const t=r.headers["x-sanity-warning"];return(Array.isArray(t)?t:[t]).filter(Boolean).forEach(n=>console.warn(n)),r}};function or(r,t){let{maxRetries:e=5,retryDelay:n}=t;const i=dn([e>0?Ee({retryDelay:n,maxRetries:e,shouldRetry:ti}):{},...r,Zn,bn(),Cn(),On(),Kn,En({implementation:Pt})]);function s(a){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:i)({maxRedirects:0,...a})}return s.defaultRequester=i,s}function ti(r,t,e){const n=e.method==="GET"||e.method==="HEAD",s=(e.uri||e.url).startsWith("/data/query"),a=r.response&&(r.response.statusCode===429||r.response.statusCode===502||r.response.statusCode===503);return(n||s)&&a?!0:Ee.shouldRetry(r,t,e)}const ei="https://www.sanity.io/help/";function Ae(r){return ei+r}const Le=["image","file"],Ne=["before","after","replace"],ar=r=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(r))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},ri=r=>{if(!/^[-a-z0-9]+$/i.test(r))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},ni=r=>{if(Le.indexOf(r)===-1)throw new Error("Invalid asset type: ".concat(r,". Must be one of ").concat(Le.join(", ")))},St=(r,t)=>{if(t===null||typeof t!="object"||Array.isArray(t))throw new Error("".concat(r,"() takes an object of properties"))},cr=(r,t)=>{if(typeof t!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(t)||t.includes(".."))throw new Error("".concat(r,'(): "').concat(t,'" is not a valid document ID'))},Xt=(r,t)=>{if(!t._id)throw new Error("".concat(r,'() requires that the document contains an ID ("_id" property)'));cr(r,t._id)},ii=(r,t,e)=>{const n="insert(at, selector, items)";if(Ne.indexOf(r)===-1){const i=Ne.map(s=>'"'.concat(s,'"')).join(", ");throw new Error("".concat(n,' takes an "at"-argument which is one of: ').concat(i))}if(typeof t!="string")throw new Error("".concat(n,' takes a "selector"-argument which must be a string'));if(!Array.isArray(e))throw new Error("".concat(n,' takes an "items"-argument which must be an array'))},ur=r=>{if(!r.dataset)throw new Error("`dataset` must be provided to perform queries");return r.dataset||""},lr=r=>{if(typeof r!="string"||!/^[a-z0-9._-]{1,75}$/i.test(r))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return r};function si(r){let t=!1,e;return function(){return t||(e=r(...arguments),t=!0),e}}const le=r=>si(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return console.warn(r.join(" "),...e)}),oi=le(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),ai=le(["The Sanity client is configured with the `perspective` set to `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),ci=le(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.","See ".concat(Ae("js-client-browser-token")," for more information and how to hide this warning.")]),ui=le(["Using the Sanity client without specifying an API version is deprecated.","See ".concat(Ae("js-client-api-version"))]),li="apicdn.sanity.io",Qt={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0},fi=["localhost","127.0.0.1","0.0.0.0"],hi=r=>fi.indexOf(r)!==-1,di=function(t){if(t==="1"||t==="X")return;const e=new Date(t);if(!(/^\d{4}-\d{2}-\d{2}$/.test(t)&&e instanceof Date&&e.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")},fr=function(t){switch(t){case"previewDrafts":case"published":case"raw":return;default:throw new TypeError("Invalid API perspective string, expected `published`, `previewDrafts` or `raw`")}},hr=(r,t)=>{const e=Object.assign({},t,r);e.apiVersion||ui();const n=Object.assign({},Qt,e),i=n.useProjectHostname;if(typeof Promise>"u"){const p=Ae("js-client-promise-polyfill");throw new Error("No native Promise-implementation found, polyfill needed - see ".concat(p))}if(i&&!n.projectId)throw new Error("Configuration must contain `projectId`");if(typeof n.perspective=="string"&&fr(n.perspective),"encodeSourceMapAtPath"in n||"encodeSourceMap"in n||"studioUrl"in n||"logger"in n)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client', such as 'encodeSourceMapAtPath', 'encodeSourceMap', 'studioUrl' and 'logger'. Make sure you're using the right import.");const s=typeof window<"u"&&window.location&&window.location.hostname,a=s&&hi(window.location.hostname);s&&a&&n.token&&n.ignoreBrowserTokenWarning!==!0?ci():typeof n.useCdn>"u"&&oi(),i&&ri(n.projectId),n.dataset&&ar(n.dataset),"requestTagPrefix"in n&&(n.requestTagPrefix=n.requestTagPrefix?lr(n.requestTagPrefix).replace(/\.+$/,""):void 0),n.apiVersion="".concat(n.apiVersion).replace(/^v/,""),n.isDefaultApi=n.apiHost===Qt.apiHost,n.useCdn=n.useCdn!==!1&&!n.withCredentials,di(n.apiVersion);const o=n.apiHost.split("://",2),d=o[0],m=o[1],f=n.isDefaultApi?li:m;return n.useProjectHostname?(n.url="".concat(d,"://").concat(n.projectId,".").concat(m,"/v").concat(n.apiVersion),n.cdnUrl="".concat(d,"://").concat(n.projectId,".").concat(f,"/v").concat(n.apiVersion)):(n.url="".concat(n.apiHost,"/v").concat(n.apiVersion),n.cdnUrl=n.url),n},pi="X-Sanity-Project-ID";function gi(r){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const e={},n=t.token||r.token;n&&(e.Authorization="Bearer ".concat(n)),!t.useGlobalApi&&!r.useProjectHostname&&r.projectId&&(e[pi]=r.projectId);const i=!!(typeof t.withCredentials>"u"?r.token||r.withCredentials:t.withCredentials),s=typeof t.timeout>"u"?r.timeout:t.timeout;return Object.assign({},t,{headers:Object.assign({},e,t.headers||{}),timeout:typeof s>"u"?5*60*1e3:s,proxy:t.proxy||r.proxy,json:!0,withCredentials:i,fetch:typeof t.fetch=="object"&&typeof r.fetch=="object"?{...r.fetch,...t.fetch}:t.fetch||r.fetch})}function dr(r){if(typeof r=="string"||Array.isArray(r))return{id:r};if(typeof r=="object"&&r!==null&&"query"in r&&typeof r.query=="string")return"params"in r&&typeof r.params=="object"&&r.params!==null?{query:r.query,params:r.params}:{query:r.query};const t=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

`.concat(t))}const pr=r=>{let{query:t,params:e={},options:n={}}=r;const i=new URLSearchParams,{tag:s,...a}=n;s&&i.append("tag",s),i.append("query",t);for(const[o,d]of Object.entries(e))i.append("$".concat(o),JSON.stringify(d));for(const[o,d]of Object.entries(a))d&&i.append(o,"".concat(d));return"?".concat(i)};var mi=Object.defineProperty,yi=(r,t,e)=>t in r?mi(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,ze=(r,t,e)=>(yi(r,typeof t!="symbol"?t+"":t,e),e),gr=(r,t,e)=>{if(!t.has(r))throw TypeError("Cannot "+e)},gt=(r,t,e)=>(gr(r,t,"read from private field"),e?e.call(r):t.get(r)),mr=(r,t,e)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,e)},yr=(r,t,e,n)=>(gr(r,t,"write to private field"),n?n.call(r,e):t.set(r,e),e),dt,pt;class vr{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ze(this,"selection"),ze(this,"operations"),this.selection=t,this.operations=e}set(t){return this._assign("set",t)}setIfMissing(t){return this._assign("setIfMissing",t)}diffMatchPatch(t){return St("diffMatchPatch",t),this._assign("diffMatchPatch",t)}unset(t){if(!Array.isArray(t))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:t}),this}inc(t){return this._assign("inc",t)}dec(t){return this._assign("dec",t)}insert(t,e,n){return ii(t,e,n),this._assign("insert",{[t]:e,items:n})}append(t,e){return this.insert("after","".concat(t,"[-1]"),e)}prepend(t,e){return this.insert("before","".concat(t,"[0]"),e)}splice(t,e,n,i){const s=typeof n>"u"||n===-1,a=e<0?e-1:e,o=s?-1:Math.max(0,e+n),d=a<0&&o>=0?"":o,m="".concat(t,"[").concat(a,":").concat(d,"]");return this.insert("replace",m,i||[])}ifRevisionId(t){return this.operations.ifRevisionID=t,this}serialize(){return{...dr(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return St(t,e),this.operations=Object.assign({},this.operations,{[t]:Object.assign({},n&&this.operations[t]||{},e)}),this}_set(t,e){return this._assign(t,e,!1)}}const vi=class wr extends vr{constructor(t,e,n){super(t,e),mr(this,dt,void 0),yr(this,dt,n)}clone(){return new wr(this.selection,{...this.operations},gt(this,dt))}commit(t){if(!gt(this,dt))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const e=typeof this.selection=="string",n=Object.assign({returnFirst:e,returnDocuments:!0},t);return gt(this,dt).mutate({patch:this.serialize()},n)}};dt=new WeakMap;let Tt=vi;const wi=class br extends vr{constructor(t,e,n){super(t,e),mr(this,pt,void 0),yr(this,pt,n)}clone(){return new br(this.selection,{...this.operations},gt(this,pt))}commit(t){if(!gt(this,pt))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const e=typeof this.selection=="string",n=Object.assign({returnFirst:e,returnDocuments:!0},t);return gt(this,pt).mutate({patch:this.serialize()},n)}};pt=new WeakMap;let At=wi;var bi=Object.defineProperty,Ci=(r,t,e)=>t in r?bi(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,Be=(r,t,e)=>(Ci(r,typeof t!="symbol"?t+"":t,e),e),Cr=(r,t,e)=>{if(!t.has(r))throw TypeError("Cannot "+e)},Y=(r,t,e)=>(Cr(r,t,"read from private field"),e?e.call(r):t.get(r)),_r=(r,t,e)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,e)},Er=(r,t,e,n)=>(Cr(r,t,"write to private field"),n?n.call(r,e):t.set(r,e),e),et,rt;const Or={returnDocuments:!1};class Sr{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;Be(this,"operations"),Be(this,"trxId"),this.operations=t,this.trxId=e}create(t){return St("create",t),this._add({create:t})}createIfNotExists(t){const e="createIfNotExists";return St(e,t),Xt(e,t),this._add({[e]:t})}createOrReplace(t){const e="createOrReplace";return St(e,t),Xt(e,t),this._add({[e]:t})}delete(t){return cr("delete",t),this._add({delete:{id:t}})}transactionId(t){return t?(this.trxId=t,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(t){return this.operations.push(t),this}}const _i=class Tr extends Sr{constructor(t,e,n){super(t,n),_r(this,et,void 0),Er(this,et,e)}clone(){return new Tr([...this.operations],Y(this,et),this.trxId)}commit(t){if(!Y(this,et))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return Y(this,et).mutate(this.serialize(),Object.assign({transactionId:this.trxId},Or,t||{}))}patch(t,e){const n=typeof e=="function";if(typeof t!="string"&&t instanceof At)return this._add({patch:t.serialize()});if(n){const s=e(new At(t,{},Y(this,et)));if(!(s instanceof At))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:s.serialize()})}return this._add({patch:{id:t,...e}})}};et=new WeakMap;let Ar=_i;const Ei=class xr extends Sr{constructor(t,e,n){super(t,n),_r(this,rt,void 0),Er(this,rt,e)}clone(){return new xr([...this.operations],Y(this,rt),this.trxId)}commit(t){if(!Y(this,rt))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return Y(this,rt).mutate(this.serialize(),Object.assign({transactionId:this.trxId},Or,t||{}))}patch(t,e){const n=typeof e=="function";if(typeof t!="string"&&t instanceof Tt)return this._add({patch:t.serialize()});if(n){const s=e(new Tt(t,{},Y(this,rt)));if(!(s instanceof Tt))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:s.serialize()})}return this._add({patch:{id:t,...e}})}};rt=new WeakMap;let Pr=Ei;const Oi=(r,t)=>r===!1?void 0:typeof r>"u"?t:r,Si=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dryRun:r.dryRun,returnIds:!0,returnDocuments:Oi(r.returnDocuments,!0),visibility:r.visibility||"sync",autoGenerateArrayKeys:r.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:r.skipCrossDatasetReferenceValidation}},xe=r=>r.type==="response",Ti=r=>r.body,Ai=(r,t)=>r.reduce((e,n)=>(e[t(n)]=n,e),Object.create(null)),xi=11264;function Rr(r,t,e,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const s=i.filterResponse===!1?f=>f:f=>f.result,{cache:a,next:o,...d}={useAbortSignal:typeof i.signal<"u",...i},m=typeof a<"u"||typeof o<"u"?{...d,fetch:{cache:a,next:o}}:d;return It(r,t,"query",{query:e,params:n},m).pipe(ut(s))}function Ir(r,t,e){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i={uri:yt(r,"doc",e),json:!0,tag:n.tag};return Mt(r,t,i).pipe(Rt(xe),ut(s=>s.body.documents&&s.body.documents[0]))}function Mr(r,t,e){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i={uri:yt(r,"doc",e.join(",")),json:!0,tag:n.tag};return Mt(r,t,i).pipe(Rt(xe),ut(s=>{const a=Ai(s.body.documents||[],o=>o._id);return e.map(o=>a[o]||null)}))}function Fr(r,t,e,n){return Xt("createIfNotExists",e),fe(r,t,e,"createIfNotExists",n)}function qr(r,t,e,n){return Xt("createOrReplace",e),fe(r,t,e,"createOrReplace",n)}function $r(r,t,e,n){return It(r,t,"mutate",{mutations:[{delete:dr(e)}]},n)}function jr(r,t,e,n){let i;e instanceof At||e instanceof Tt?i={patch:e.serialize()}:e instanceof Ar||e instanceof Pr?i=e.serialize():i=e;const s=Array.isArray(i)?i:[i],a=n&&n.transactionId||void 0;return It(r,t,"mutate",{mutations:s,transactionId:a},n)}function It(r,t,e,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const s=e==="mutate",a=e==="query",o=s?"":pr(n),d=!s&&o.length<xi,m=d?o:"",f=i.returnFirst,{timeout:p,token:g,tag:E,headers:S}=i,y=yt(r,e,m),w={method:d?"GET":"POST",uri:y,json:!0,body:d?void 0:n,query:s&&Si(i),timeout:p,headers:S,token:g,tag:E,perspective:i.perspective,resultSourceMap:i.resultSourceMap,canUseCdn:a,signal:i.signal,fetch:i.fetch,useAbortSignal:i.useAbortSignal};return Mt(r,t,w).pipe(Rt(xe),ut(Ti),ut(O=>{if(!s)return O;const T=O.results||[];if(i.returnDocuments)return f?T[0]&&T[0].document:T.map(I=>I.document);const j=f?"documentId":"documentIds",_=f?T[0]&&T[0].id:T.map(I=>I.id);return{transactionId:O.transactionId,results:T,[j]:_}}))}function fe(r,t,e,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const s={[n]:e},a=Object.assign({returnFirst:!0,returnDocuments:!0},i);return It(r,t,"mutate",{mutations:[s]},a)}function Mt(r,t,e){var n;const i=e.url||e.uri,s=r.config(),a=typeof e.canUseCdn>"u"?["GET","HEAD"].indexOf(e.method||"GET")>=0&&i.indexOf("/data/")===0:e.canUseCdn;let o=s.useCdn&&a;const d=e.tag&&s.requestTagPrefix?[s.requestTagPrefix,e.tag].join("."):e.tag||s.requestTagPrefix;if(d&&(e.query={tag:lr(d),...e.query}),["GET","HEAD","POST"].indexOf(e.method||"GET")>=0&&i.indexOf("/data/query/")===0){((n=e.resultSourceMap)!=null?n:s.resultSourceMap)&&(e.query={resultSourceMap:!0,...e.query});const p=e.perspective||s.perspective;typeof p=="string"&&p!=="raw"&&(fr(p),e.query={perspective:p,...e.query},p==="previewDrafts"&&o&&(o=!1,ai()))}const m=gi(s,Object.assign({},e,{url:Pe(r,i,o)})),f=new Pt(p=>t(m,s.requester).subscribe(p));return e.signal?f.pipe(Pi(e.signal)):f}function W(r,t,e){return Mt(r,t,e).pipe(Rt(i=>i.type==="response"),ut(i=>i.body))}function yt(r,t,e){const n=r.config(),i=ur(n),s="/".concat(t,"/").concat(i),a=e?"".concat(s,"/").concat(e):s;return"/data".concat(a).replace(/\/($|\?)/,"$1")}function Pe(r,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const{url:n,cdnUrl:i}=r.config(),s=e?i:n;return"".concat(s,"/").concat(t.replace(/^\//,""))}function Pi(r){return t=>new Pt(e=>{const n=()=>e.error(Ii(r));if(r&&r.aborted){n();return}const i=t.subscribe(e);return r.addEventListener("abort",n),()=>{r.removeEventListener("abort",n),i.unsubscribe()}})}const Ri=!!globalThis.DOMException;function Ii(r){var t,e;if(Ri)return new DOMException((t=r==null?void 0:r.reason)!=null?t:"The operation was aborted.","AbortError");const n=new Error((e=r==null?void 0:r.reason)!=null?e:"The operation was aborted.");return n.name="AbortError",n}var Dr=(r,t,e)=>{if(!t.has(r))throw TypeError("Cannot "+e)},Kt=(r,t,e)=>(Dr(r,t,"read from private field"),e?e.call(r):t.get(r)),Zt=(r,t,e)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,e)},te=(r,t,e,n)=>(Dr(r,t,"write to private field"),n?n.call(r,e):t.set(r,e),e),Ht,Wt,Lt,Nt;class Mi{constructor(t,e){Zt(this,Ht,void 0),Zt(this,Wt,void 0),te(this,Ht,t),te(this,Wt,e)}upload(t,e,n){return Ur(Kt(this,Ht),Kt(this,Wt),t,e,n)}}Ht=new WeakMap;Wt=new WeakMap;class Fi{constructor(t,e){Zt(this,Lt,void 0),Zt(this,Nt,void 0),te(this,Lt,t),te(this,Nt,e)}upload(t,e,n){const i=Ur(Kt(this,Lt),Kt(this,Nt),t,e,n);return R(i.pipe(Rt(s=>s.type==="response"),ut(s=>s.body.document)))}}Lt=new WeakMap;Nt=new WeakMap;function Ur(r,t,e,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};ni(e);let s=i.extract||void 0;s&&!s.length&&(s=["none"]);const a=ur(r.config()),o=e==="image"?"images":"files",d=qi(i,n),{tag:m,label:f,title:p,description:g,creditLine:E,filename:S,source:y}=d,w={label:f,title:p,description:g,filename:S,meta:s,creditLine:E};return y&&(w.sourceId=y.id,w.sourceName=y.name,w.sourceUrl=y.url),Mt(r,t,{tag:m,method:"POST",timeout:d.timeout||0,uri:"/assets/".concat(o,"/").concat(a),headers:d.contentType?{"Content-Type":d.contentType}:{},query:w,body:n})}function qi(r,t){return typeof File>"u"||!(t instanceof File)?r:Object.assign({filename:r.preserveFilename===!1?void 0:t.name,contentType:t.type},r)}var $i=(r,t)=>Object.keys(t).concat(Object.keys(r)).reduce((e,n)=>(e[n]=typeof r[n]>"u"?t[n]:r[n],e),{});const ji=(r,t)=>t.reduce((e,n)=>(typeof r[n]>"u"||(e[n]=r[n]),e),{}),Di=16e3-1200,Ui=["includePreviousRevision","includeResult","visibility","effectFormat","tag"],ki={includeResult:!0};function kr(r,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{url:n,token:i,withCredentials:s,requestTagPrefix:a}=this.config(),o=e.tag&&a?[a,e.tag].join("."):e.tag,d={...$i(e,ki),tag:o},m=ji(d,Ui),f=pr({query:r,params:t,options:{tag:o,...m}}),p="".concat(n).concat(yt(this,"listen",f));if(p.length>Di)return new Pt(y=>y.error(new Error("Query too large for listener")));const g=d.events?d.events:["mutation"],E=g.indexOf("reconnect")!==-1,S={};return(i||s)&&(S.withCredentials=!0),i&&(S.headers={Authorization:"Bearer ".concat(i)}),new Pt(y=>{let w;ft().then(c=>{w=c}).catch(c=>{y.error(c),u()});let O,T=!1;function j(){T||(lt(),!T&&w.readyState===w.CLOSED&&(Q(),clearTimeout(O),O=setTimeout(vt,100)))}function _(c){y.error(Hi(c))}function I(c){const h=Hr(c);return h instanceof Error?y.error(h):y.next(h)}function B(){T=!0,Q(),y.complete()}function Q(){w&&(w.removeEventListener("error",j),w.removeEventListener("channelError",_),w.removeEventListener("disconnect",B),g.forEach(c=>w.removeEventListener(c,I)),w.close())}function lt(){E&&y.next({type:"reconnect"})}async function ft(){const{default:c}=await Xr(()=>import("./browser.0d0d865e.js").then(l=>l.b),[],import.meta.url),h=new c(p,S);return h.addEventListener("error",j),h.addEventListener("channelError",_),h.addEventListener("disconnect",B),g.forEach(l=>h.addEventListener(l,I)),h}function vt(){ft().then(c=>{w=c}).catch(c=>{y.error(c),u()})}function u(){T=!0,Q()}return u})}function Hr(r){try{const t=r.data&&JSON.parse(r.data)||{};return Object.assign({type:r.type},t)}catch(t){return t}}function Hi(r){if(r instanceof Error)return r;const t=Hr(r);return t instanceof Error?t:new Error(Wi(t))}function Wi(r){return r.error?r.error.description?r.error.description:typeof r.error=="string"?r.error:JSON.stringify(r.error,null,2):r.message||"Unknown listener error"}var Wr=(r,t,e)=>{if(!t.has(r))throw TypeError("Cannot "+e)},F=(r,t,e)=>(Wr(r,t,"read from private field"),e?e.call(r):t.get(r)),ee=(r,t,e)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,e)},re=(r,t,e,n)=>(Wr(r,t,"write to private field"),n?n.call(r,e):t.set(r,e),e),nt,it,st,ot;class Li{constructor(t,e){ee(this,nt,void 0),ee(this,it,void 0),re(this,nt,t),re(this,it,e)}create(t,e){return mt(F(this,nt),F(this,it),"PUT",t,e)}edit(t,e){return mt(F(this,nt),F(this,it),"PATCH",t,e)}delete(t){return mt(F(this,nt),F(this,it),"DELETE",t)}list(){return W(F(this,nt),F(this,it),{uri:"/datasets"})}}nt=new WeakMap;it=new WeakMap;class Ni{constructor(t,e){ee(this,st,void 0),ee(this,ot,void 0),re(this,st,t),re(this,ot,e)}create(t,e){return R(mt(F(this,st),F(this,ot),"PUT",t,e))}edit(t,e){return R(mt(F(this,st),F(this,ot),"PATCH",t,e))}delete(t){return R(mt(F(this,st),F(this,ot),"DELETE",t))}list(){return R(W(F(this,st),F(this,ot),{uri:"/datasets"}))}}st=new WeakMap;ot=new WeakMap;function mt(r,t,e,n,i){return ar(n),W(r,t,{method:e,uri:"/datasets/".concat(n),body:i})}var Lr=(r,t,e)=>{if(!t.has(r))throw TypeError("Cannot "+e)},X=(r,t,e)=>(Lr(r,t,"read from private field"),e?e.call(r):t.get(r)),ne=(r,t,e)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,e)},ie=(r,t,e,n)=>(Lr(r,t,"write to private field"),n?n.call(r,e):t.set(r,e),e),Ct,_t,Et,Ot;class zi{constructor(t,e){ne(this,Ct,void 0),ne(this,_t,void 0),ie(this,Ct,t),ie(this,_t,e)}list(t){const e=(t==null?void 0:t.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return W(X(this,Ct),X(this,_t),{uri:e})}getById(t){return W(X(this,Ct),X(this,_t),{uri:"/projects/".concat(t)})}}Ct=new WeakMap;_t=new WeakMap;class Bi{constructor(t,e){ne(this,Et,void 0),ne(this,Ot,void 0),ie(this,Et,t),ie(this,Ot,e)}list(t){const e=(t==null?void 0:t.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return R(W(X(this,Et),X(this,Ot),{uri:e}))}getById(t){return R(W(X(this,Et),X(this,Ot),{uri:"/projects/".concat(t)}))}}Et=new WeakMap;Ot=new WeakMap;var Nr=(r,t,e)=>{if(!t.has(r))throw TypeError("Cannot "+e)},se=(r,t,e)=>(Nr(r,t,"read from private field"),e?e.call(r):t.get(r)),oe=(r,t,e)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,e)},ae=(r,t,e,n)=>(Nr(r,t,"write to private field"),n?n.call(r,e):t.set(r,e),e),zt,Bt,Vt,Gt;class Vi{constructor(t,e){oe(this,zt,void 0),oe(this,Bt,void 0),ae(this,zt,t),ae(this,Bt,e)}getById(t){return W(se(this,zt),se(this,Bt),{uri:"/users/".concat(t)})}}zt=new WeakMap;Bt=new WeakMap;class Gi{constructor(t,e){oe(this,Vt,void 0),oe(this,Gt,void 0),ae(this,Vt,t),ae(this,Gt,e)}getById(t){return R(W(se(this,Vt),se(this,Gt),{uri:"/users/".concat(t)}))}}Vt=new WeakMap;Gt=new WeakMap;var Ji=Object.defineProperty,Yi=(r,t,e)=>t in r?Ji(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,H=(r,t,e)=>(Yi(r,typeof t!="symbol"?t+"":t,e),e),zr=(r,t,e)=>{if(!t.has(r))throw TypeError("Cannot "+e)},b=(r,t,e)=>(zr(r,t,"read from private field"),e?e.call(r):t.get(r)),ce=(r,t,e)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,e)},ue=(r,t,e,n)=>(zr(r,t,"write to private field"),n?n.call(r,e):t.set(r,e),e),at,P,ct,x;const Xi=class Ce{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qt;H(this,"assets"),H(this,"datasets"),H(this,"projects"),H(this,"users"),ce(this,at,void 0),ce(this,P,void 0),H(this,"listen",kr),this.config(e),ue(this,P,t),this.assets=new Mi(this,b(this,P)),this.datasets=new Li(this,b(this,P)),this.projects=new zi(this,b(this,P)),this.users=new Vi(this,b(this,P))}clone(){return new Ce(b(this,P),this.config())}config(t){if(t===void 0)return{...b(this,at)};if(b(this,at)&&b(this,at).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return ue(this,at,hr(t,b(this,at)||{})),this}withConfig(t){return new Ce(b(this,P),{...this.config(),...t})}fetch(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Rr(this,b(this,P),t,e,n)}getDocument(t,e){return Ir(this,b(this,P),t,e)}getDocuments(t,e){return Mr(this,b(this,P),t,e)}create(t,e){return fe(this,b(this,P),t,"create",e)}createIfNotExists(t,e){return Fr(this,b(this,P),t,e)}createOrReplace(t,e){return qr(this,b(this,P),t,e)}delete(t,e){return $r(this,b(this,P),t,e)}mutate(t,e){return jr(this,b(this,P),t,e)}patch(t,e){return new Tt(t,e,this)}transaction(t){return new Pr(t,this)}request(t){return W(this,b(this,P),t)}getUrl(t,e){return Pe(this,t,e)}getDataUrl(t,e){return yt(this,t,e)}};at=new WeakMap;P=new WeakMap;let Qi=Xi;const Ki=class _e{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qt;H(this,"assets"),H(this,"datasets"),H(this,"projects"),H(this,"users"),H(this,"observable"),ce(this,ct,void 0),ce(this,x,void 0),H(this,"listen",kr),this.config(e),ue(this,x,t),this.assets=new Fi(this,b(this,x)),this.datasets=new Ni(this,b(this,x)),this.projects=new Bi(this,b(this,x)),this.users=new Gi(this,b(this,x)),this.observable=new Qi(t,e)}clone(){return new _e(b(this,x),this.config())}config(t){if(t===void 0)return{...b(this,ct)};if(b(this,ct)&&b(this,ct).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(t),ue(this,ct,hr(t,b(this,ct)||{})),this}withConfig(t){return new _e(b(this,x),{...this.config(),...t})}fetch(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return R(Rr(this,b(this,x),t,e,n))}getDocument(t,e){return R(Ir(this,b(this,x),t,e))}getDocuments(t,e){return R(Mr(this,b(this,x),t,e))}create(t,e){return R(fe(this,b(this,x),t,"create",e))}createIfNotExists(t,e){return R(Fr(this,b(this,x),t,e))}createOrReplace(t,e){return R(qr(this,b(this,x),t,e))}delete(t,e){return R($r(this,b(this,x),t,e))}mutate(t,e){return R(jr(this,b(this,x),t,e))}patch(t,e){return new At(t,e,this)}transaction(t){return new Ar(t,this)}request(t){return R(W(this,b(this,x),t))}dataRequest(t,e,n){return R(It(this,b(this,x),t,e,n))}getUrl(t,e){return Pe(this,t,e)}getDataUrl(t,e){return yt(this,t,e)}};ct=new WeakMap;x=new WeakMap;let Zi=Ki;const ts=or(ir,{});ts.defaultRequester;const es=r=>new Zi(or(ir,{maxRetries:r.maxRetries,retryDelay:r.retryDelay}),r);function Br(r){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];const i=r.length-1;return r.slice(0,i).reduce((s,a,o)=>s+a+e[o],"")+r[i]}const rs="fhctom75",ns="production",Re=es({projectId:rs,dataset:ns,useCdn:!1,apiVersion:"2023-03-20"});async function ls(){return await Re.fetch(Br`*[_type == "post" && defined(slug.current)] | order(_createdAt desc)`)}async function fs(r){return await Re.fetch(Br`*[_type == "post" && slug.current == $slug][0]`,{slug:r})}function hs(r,t){return new Yr(r,t)}new TextEncoder;function ds(r){return new Date(r).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})}var Vr={exports:{}};(function(r,t){(function(e,n){r.exports=n()})(en,function(){function e(){return e=Object.assign||function(u){for(var c=1;c<arguments.length;c++){var h=arguments[c];for(var l in h)Object.prototype.hasOwnProperty.call(h,l)&&(u[l]=h[l])}return u},e.apply(this,arguments)}function n(u,c){if(u){if(typeof u=="string")return i(u,c);var h=Object.prototype.toString.call(u).slice(8,-1);if(h==="Object"&&u.constructor&&(h=u.constructor.name),h==="Map"||h==="Set")return Array.from(u);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return i(u,c)}}function i(u,c){(c==null||c>u.length)&&(c=u.length);for(var h=0,l=new Array(c);h<c;h++)l[h]=u[h];return l}function s(u,c){var h=typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(h)return(h=h.call(u)).next.bind(h);if(Array.isArray(u)||(h=n(u))||c&&u&&typeof u.length=="number"){h&&(u=h);var l=0;return function(){return l>=u.length?{done:!0}:{done:!1,value:u[l++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function o(u){var c=u.split("-"),h=c[1],l=c[2],C=c[3];if(!h||!l||!C)throw new Error("Malformed asset _ref '"+u+`'. Expected an id like "`+a+'".');var v=l.split("x"),A=v[0],M=v[1],U=+A,q=+M,$=isFinite(U)&&isFinite(q);if(!$)throw new Error("Malformed asset _ref '"+u+`'. Expected an id like "`+a+'".');return{id:h,width:U,height:q,format:C}}var d=function(c){var h=c;return h?typeof h._ref=="string":!1},m=function(c){var h=c;return h?typeof h._id=="string":!1},f=function(c){var h=c;return h&&h.asset?typeof h.asset.url=="string":!1};function p(u){if(!u)return null;var c;if(typeof u=="string"&&g(u))c={asset:{_ref:E(u)}};else if(typeof u=="string")c={asset:{_ref:u}};else if(d(u))c={asset:u};else if(m(u))c={asset:{_ref:u._id||""}};else if(f(u))c={asset:{_ref:E(u.asset.url)}};else if(typeof u.asset=="object")c=e({},u);else return null;var h=u;return h.crop&&(c.crop=h.crop),h.hotspot&&(c.hotspot=h.hotspot),S(c)}function g(u){return/^https?:\/\//.test(""+u)}function E(u){var c=u.split("/").slice(-1);return("image-"+c[0]).replace(/\.([a-z]+)$/,"-$1")}function S(u){if(u.crop&&u.hotspot)return u;var c=e({},u);return c.crop||(c.crop={left:0,top:0,bottom:0,right:0}),c.hotspot||(c.hotspot={x:.5,y:.5,height:1,width:1}),c}var y=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"]];function w(u){var c=e({},u||{}),h=c.source;delete c.source;var l=p(h);if(!l)throw new Error("Unable to resolve image URL from source ("+JSON.stringify(h)+")");var C=l.asset._ref||l.asset._id||"",v=o(C),A=Math.round(l.crop.left*v.width),M=Math.round(l.crop.top*v.height),U={left:A,top:M,width:Math.round(v.width-l.crop.right*v.width-A),height:Math.round(v.height-l.crop.bottom*v.height-M)},q=l.hotspot.height*v.height/2,$=l.hotspot.width*v.width/2,z=l.hotspot.x*v.width,K=l.hotspot.y*v.height,L={left:z-$,top:K-q,right:z+$,bottom:K+q};return c.rect||c.focalPoint||c.ignoreImageParams||c.crop||(c=e({},c,T({crop:U,hotspot:L},c))),O(e({},c,{asset:v}))}function O(u){var c=(u.baseUrl||"https://cdn.sanity.io").replace(/\/+$/,""),h=u.asset.id+"-"+u.asset.width+"x"+u.asset.height+"."+u.asset.format,l=c+"/images/"+u.projectId+"/"+u.dataset+"/"+h,C=[];if(u.rect){var v=u.rect,A=v.left,M=v.top,U=v.width,q=v.height,$=A!==0||M!==0||q!==u.asset.height||U!==u.asset.width;$&&C.push("rect="+A+","+M+","+U+","+q)}u.bg&&C.push("bg="+u.bg),u.focalPoint&&(C.push("fp-x="+u.focalPoint.x),C.push("fp-y="+u.focalPoint.y));var z=[u.flipHorizontal&&"h",u.flipVertical&&"v"].filter(Boolean).join("");return z&&C.push("flip="+z),y.forEach(function(K){var L=K[0],Z=K[1];typeof u[L]<"u"?C.push(Z+"="+encodeURIComponent(u[L])):typeof u[Z]<"u"&&C.push(Z+"="+encodeURIComponent(u[Z]))}),C.length===0?l:l+"?"+C.join("&")}function T(u,c){var h,l=c.width,C=c.height;if(!(l&&C))return{width:l,height:C,rect:u.crop};var v=u.crop,A=u.hotspot,M=l/C,U=v.width/v.height;if(U>M){var q=Math.round(v.height),$=Math.round(q*M),z=Math.max(0,Math.round(v.top)),K=Math.round((A.right-A.left)/2+A.left),L=Math.max(0,Math.round(K-$/2));L<v.left?L=v.left:L+$>v.left+v.width&&(L=v.left+v.width-$),h={left:L,top:z,width:$,height:q}}else{var Z=v.width,Ft=Math.round(Z/M),Gr=Math.max(0,Math.round(v.left)),Jr=Math.round((A.bottom-A.top)/2+A.top),wt=Math.max(0,Math.round(Jr-Ft/2));wt<v.top?wt=v.top:wt+Ft>v.top+v.height&&(wt=v.top+v.height-Ft),h={left:Gr,top:wt,width:Z,height:Ft}}return{width:l,height:C,rect:h}}var j=["clip","crop","fill","fillmax","max","scale","min"],_=["top","bottom","left","right","center","focalpoint","entropy"],I=["format"];function B(u){return u&&"config"in u?typeof u.config=="function":!1}function Q(u){return u&&"clientConfig"in u?typeof u.clientConfig=="object":!1}function lt(u){for(var c=y,h=s(c),l;!(l=h()).done;){var C=l.value,v=C[0],A=C[1];if(u===v||u===A)return v}return u}function ft(u){if(B(u)){var c=u.config(),h=c.apiHost,l=c.projectId,C=c.dataset,v=h||"https://api.sanity.io";return new vt(null,{baseUrl:v.replace(/^https:\/\/api\./,"https://cdn."),projectId:l,dataset:C})}var A=u;if(Q(A)){var M=A.clientConfig,U=M.apiHost,q=M.projectId,$=M.dataset,z=U||"https://api.sanity.io";return new vt(null,{baseUrl:z.replace(/^https:\/\/api\./,"https://cdn."),projectId:q,dataset:$})}return new vt(null,u)}var vt=function(){function u(h,l){this.options=void 0,this.options=h?e({},h.options||{},l||{}):e({},l||{})}var c=u.prototype;return c.withOptions=function(l){var C=l.baseUrl||this.options.baseUrl,v={baseUrl:C};for(var A in l)if(l.hasOwnProperty(A)){var M=lt(A);v[M]=l[A]}return new u(this,e({baseUrl:C},v))},c.image=function(l){return this.withOptions({source:l})},c.dataset=function(l){return this.withOptions({dataset:l})},c.projectId=function(l){return this.withOptions({projectId:l})},c.bg=function(l){return this.withOptions({bg:l})},c.dpr=function(l){return this.withOptions(l&&l!==1?{dpr:l}:{})},c.width=function(l){return this.withOptions({width:l})},c.height=function(l){return this.withOptions({height:l})},c.focalPoint=function(l,C){return this.withOptions({focalPoint:{x:l,y:C}})},c.maxWidth=function(l){return this.withOptions({maxWidth:l})},c.minWidth=function(l){return this.withOptions({minWidth:l})},c.maxHeight=function(l){return this.withOptions({maxHeight:l})},c.minHeight=function(l){return this.withOptions({minHeight:l})},c.size=function(l,C){return this.withOptions({width:l,height:C})},c.blur=function(l){return this.withOptions({blur:l})},c.sharpen=function(l){return this.withOptions({sharpen:l})},c.rect=function(l,C,v,A){return this.withOptions({rect:{left:l,top:C,width:v,height:A}})},c.format=function(l){return this.withOptions({format:l})},c.invert=function(l){return this.withOptions({invert:l})},c.orientation=function(l){return this.withOptions({orientation:l})},c.quality=function(l){return this.withOptions({quality:l})},c.forceDownload=function(l){return this.withOptions({download:l})},c.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},c.flipVertical=function(){return this.withOptions({flipVertical:!0})},c.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},c.fit=function(l){if(j.indexOf(l)===-1)throw new Error('Invalid fit mode "'+l+'"');return this.withOptions({fit:l})},c.crop=function(l){if(_.indexOf(l)===-1)throw new Error('Invalid crop mode "'+l+'"');return this.withOptions({crop:l})},c.saturation=function(l){return this.withOptions({saturation:l})},c.auto=function(l){if(I.indexOf(l)===-1)throw new Error('Invalid auto mode "'+l+'"');return this.withOptions({auto:l})},c.pad=function(l){return this.withOptions({pad:l})},c.url=function(){return w(this.options)},c.toString=function(){return this.url()},u}();return ft})})(Vr);var is=Vr.exports;const ss=Je(is),os=ss(Re);function ps(r){return os.image(r)}export{fs as a,Je as b,en as c,hs as e,ds as f,ls as g,ps as u};
