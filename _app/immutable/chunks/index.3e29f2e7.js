import{_ as qr}from"./preload-helper.a4192956.js";import{H as Mr}from"./control.f5b05b5f.js";const Ir=typeof navigator>"u"?!1:navigator.product==="ReactNative",Mt={timeout:Ir?6e4:12e4},$r=function(e){const t={...Mt,...typeof e=="string"?{url:e}:e},{searchParams:n}=new URL(t.url,"http://localhost");if(t.timeout=It(t.timeout),t.query){for(const[a,o]of Object.entries(t.query))if(o!==void 0)if(Array.isArray(o))for(const u of o)n.append(a,u);else n.append(a,o)}const[s]=t.url.split("?"),i=n.toString();return i&&(t.url="".concat(s,"?").concat(i)),t.method=t.body&&!t.method?"POST":(t.method||"GET").toUpperCase(),t};function It(r){if(r===!1||r===0)return!1;if(r.connect||r.socket)return r;const e=Number(r);return isNaN(e)?It(Mt.timeout):{connect:e,socket:e}}const Dr=/^https?:\/\//i,kr=function(e){if(!Dr.test(e.url))throw new Error('"'.concat(e.url,'" is not a valid URL'))};var Hs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jr(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ke=function(r){return r.replace(/^\s+|\s+$/g,"")},Ur=function(r){return Object.prototype.toString.call(r)==="[object Array]"},Wr=function(r){if(!r)return{};for(var e={},t=Ke(r).split(`
`),n=0;n<t.length;n++){var s=t[n],i=s.indexOf(":"),a=Ke(s.slice(0,i)).toLowerCase(),o=Ke(s.slice(i+1));typeof e[a]>"u"?e[a]=o:Ur(e[a])?e[a].push(o):e[a]=[e[a],o]}return e};const Lr=jr(Wr),Nr=r=>function(t,n){const s=t==="onError";let i=n;for(var a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];for(let d=0;d<r[t].length;d++){const c=r[t][d];if(i=c(i,...o),s&&!i)break}return i};function Hr(){const r=Object.create(null);let e=0;function t(s){const i=e++;return r[i]=s,function(){delete r[i]}}function n(s){for(const i in r)r[i](s)}return{publish:n,subscribe:t}}const Br=["request","response","progress","error","abort"],vt=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function $t(r,e){const t=[],n=vt.reduce((i,a)=>(i[a]=i[a]||[],i),{processOptions:[$r],validateOptions:[kr]});function s(i){const a=(w,h,p)=>{let m=w,b=h;if(!m)try{b=u("onResponse",h,p)}catch(F){b=null,m=F}m=m&&u("onError",m,p),m?o.error.publish(m):b&&o.response.publish(b)},o=Br.reduce((w,h)=>(w[h]=Hr(),w),{}),u=Nr(n),d=u("processOptions",i);u("validateOptions",d);const c={options:d,channels:o,applyMiddleware:u};let l;const f=o.request.subscribe(w=>{l=e(w,(h,p)=>a(h,p,w))});o.abort.subscribe(()=>{f(),l&&l.abort()});const v=u("onReturn",o,c);return v===o&&o.request.publish(c),v}return s.use=function(a){if(!a)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof a=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(a.onReturn&&n.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return vt.forEach(o=>{a[o]&&n[o].push(a[o])}),t.push(a),s},s.clone=()=>$t(t,e),r.forEach(s.use),s}var zr=Object.defineProperty,Gr=(r,e,t)=>e in r?zr(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,P=(r,e,t)=>(Gr(r,typeof e!="symbol"?e+"":e,t),t),Dt=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)},A=(r,e,t)=>(Dt(r,e,"read from private field"),t?t.call(r):e.get(r)),U=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)},I=(r,e,t,n)=>(Dt(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),we,be,X,Ce,$,_e,Ee;class kt{constructor(){P(this,"onabort"),P(this,"onerror"),P(this,"onreadystatechange"),P(this,"ontimeout"),P(this,"readyState",0),P(this,"response"),P(this,"responseText"),P(this,"responseType",""),P(this,"status"),P(this,"statusText"),P(this,"withCredentials"),U(this,we,void 0),U(this,be,void 0),U(this,X,void 0),U(this,Ce,{}),U(this,$,void 0),U(this,_e,{}),U(this,Ee,void 0)}open(e,t,n){I(this,we,e),I(this,be,t),I(this,X,""),this.readyState=1,this.onreadystatechange(),I(this,$,void 0)}abort(){A(this,$)&&A(this,$).abort()}getAllResponseHeaders(){return A(this,X)}setRequestHeader(e,t){A(this,Ce)[e]=t}setInit(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;I(this,_e,e),I(this,Ee,t)}send(e){const t=this.responseType!=="arraybuffer",n={...A(this,_e),method:A(this,we),headers:A(this,Ce),body:e};typeof AbortController=="function"&&A(this,Ee)&&(I(this,$,new AbortController),typeof EventTarget<"u"&&A(this,$).signal instanceof EventTarget&&(n.signal=A(this,$).signal)),typeof document<"u"&&(n.credentials=this.withCredentials?"include":"omit"),fetch(A(this,be),n).then(s=>(s.headers.forEach((i,a)=>{I(this,X,A(this,X)+"".concat(a,": ").concat(i,`\r
`))}),this.status=s.status,this.statusText=s.statusText,this.readyState=3,t?s.text():s.arrayBuffer())).then(s=>{typeof s=="string"?this.responseText=s:this.response=s,this.readyState=4,this.onreadystatechange()}).catch(s=>{var i;if(s.name==="AbortError"){this.onabort();return}(i=this.onerror)==null||i.call(this,s)})}}we=new WeakMap;be=new WeakMap;X=new WeakMap;Ce=new WeakMap;$=new WeakMap;_e=new WeakMap;Ee=new WeakMap;const nt=typeof XMLHttpRequest=="function"?"xhr":"fetch",Vr=nt==="xhr"?XMLHttpRequest:kt,Jr=(r,e)=>{var t;const n=r.options,s=r.applyMiddleware("finalizeOptions",n),i={},a=r.applyMiddleware("interceptRequest",void 0,{adapter:nt,context:r});if(a){const y=setTimeout(e,0,null,a);return{abort:()=>clearTimeout(y)}}let o=new Vr;o instanceof kt&&typeof s.fetch=="object"&&o.setInit(s.fetch,(t=s.useAbortSignal)!=null?t:!0);const u=s.headers,d=s.timeout;let c=!1,l=!1,f=!1;if(o.onerror=y=>{m(new Error("Request error while attempting to reach ".concat(s.url).concat(y.lengthComputable?"(".concat(y.loaded," of ").concat(y.total," bytes transferred)"):"")))},o.ontimeout=y=>{m(new Error("Request timeout while attempting to reach ".concat(s.url).concat(y.lengthComputable?"(".concat(y.loaded," of ").concat(y.total," bytes transferred)"):"")))},o.onabort=()=>{p(!0),c=!0},o.onreadystatechange=()=>{h(),!(c||o.readyState!==4)&&o.status!==0&&F()},o.open(s.method,s.url,!0),o.withCredentials=!!s.withCredentials,u&&o.setRequestHeader)for(const y in u)u.hasOwnProperty(y)&&o.setRequestHeader(y,u[y]);return s.rawBody&&(o.responseType="arraybuffer"),r.applyMiddleware("onRequest",{options:s,adapter:nt,request:o,context:r}),o.send(s.body||null),d&&(i.connect=setTimeout(()=>w("ETIMEDOUT"),d.connect)),{abort:v};function v(){c=!0,o&&o.abort()}function w(y){f=!0,o.abort();const O=new Error(y==="ESOCKETTIMEDOUT"?"Socket timed out on request to ".concat(s.url):"Connection timed out on request to ".concat(s.url));O.code=y,r.channels.error.publish(O)}function h(){d&&(p(),i.socket=setTimeout(()=>w("ESOCKETTIMEDOUT"),d.socket))}function p(y){(y||c||o.readyState>=2&&i.connect)&&clearTimeout(i.connect),i.socket&&clearTimeout(i.socket)}function m(y){if(l)return;p(!0),l=!0,o=null;const O=y||new Error("Network error while attempting to reach ".concat(s.url));O.isNetworkError=!0,O.request=s,e(O)}function b(){return{body:o.response||(o.responseType===""||o.responseType==="text"?o.responseText:""),url:s.url,method:s.method,headers:Lr(o.getAllResponseHeaders()),statusCode:o.status,statusMessage:o.statusText}}function F(){if(!(c||l||f)){if(o.status===0){m(new Error("Unknown XHR error"));return}p(),l=!0,e(null,b())}}},Yr=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Jr;return $t(r,e)};var wt={exports:{}},Ze,bt;function Xr(){if(bt)return Ze;bt=1;var r=1e3,e=r*60,t=e*60,n=t*24,s=n*7,i=n*365.25;Ze=function(c,l){l=l||{};var f=typeof c;if(f==="string"&&c.length>0)return a(c);if(f==="number"&&isFinite(c))return l.long?u(c):o(c);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(c))};function a(c){if(c=String(c),!(c.length>100)){var l=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(c);if(l){var f=parseFloat(l[1]),v=(l[2]||"ms").toLowerCase();switch(v){case"years":case"year":case"yrs":case"yr":case"y":return f*i;case"weeks":case"week":case"w":return f*s;case"days":case"day":case"d":return f*n;case"hours":case"hour":case"hrs":case"hr":case"h":return f*t;case"minutes":case"minute":case"mins":case"min":case"m":return f*e;case"seconds":case"second":case"secs":case"sec":case"s":return f*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}function o(c){var l=Math.abs(c);return l>=n?Math.round(c/n)+"d":l>=t?Math.round(c/t)+"h":l>=e?Math.round(c/e)+"m":l>=r?Math.round(c/r)+"s":c+"ms"}function u(c){var l=Math.abs(c);return l>=n?d(c,l,n,"day"):l>=t?d(c,l,t,"hour"):l>=e?d(c,l,e,"minute"):l>=r?d(c,l,r,"second"):c+" ms"}function d(c,l,f,v){var w=l>=f*1.5;return Math.round(c/f)+" "+v+(w?"s":"")}return Ze}function Qr(r){t.debug=t,t.default=t,t.coerce=u,t.disable=i,t.enable=s,t.enabled=a,t.humanize=Xr(),t.destroy=d,Object.keys(r).forEach(c=>{t[c]=r[c]}),t.names=[],t.skips=[],t.formatters={};function e(c){let l=0;for(let f=0;f<c.length;f++)l=(l<<5)-l+c.charCodeAt(f),l|=0;return t.colors[Math.abs(l)%t.colors.length]}t.selectColor=e;function t(c){let l,f=null,v,w;function h(...p){if(!h.enabled)return;const m=h,b=Number(new Date),F=b-(l||b);m.diff=F,m.prev=l,m.curr=b,l=b,p[0]=t.coerce(p[0]),typeof p[0]!="string"&&p.unshift("%O");let y=0;p[0]=p[0].replace(/%([a-zA-Z%])/g,(Y,re)=>{if(Y==="%%")return"%";y++;const ye=t.formatters[re];if(typeof ye=="function"){const me=p[y];Y=ye.call(m,me),p.splice(y,1),y--}return Y}),t.formatArgs.call(m,p),(m.log||t.log).apply(m,p)}return h.namespace=c,h.useColors=t.useColors(),h.color=t.selectColor(c),h.extend=n,h.destroy=t.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(v!==t.namespaces&&(v=t.namespaces,w=t.enabled(c)),w),set:p=>{f=p}}),typeof t.init=="function"&&t.init(h),h}function n(c,l){const f=t(this.namespace+(typeof l>"u"?":":l)+c);return f.log=this.log,f}function s(c){t.save(c),t.namespaces=c,t.names=[],t.skips=[];let l;const f=(typeof c=="string"?c:"").split(/[\s,]+/),v=f.length;for(l=0;l<v;l++)f[l]&&(c=f[l].replace(/\*/g,".*?"),c[0]==="-"?t.skips.push(new RegExp("^"+c.slice(1)+"$")):t.names.push(new RegExp("^"+c+"$")))}function i(){const c=[...t.names.map(o),...t.skips.map(o).map(l=>"-"+l)].join(",");return t.enable(""),c}function a(c){if(c[c.length-1]==="*")return!0;let l,f;for(l=0,f=t.skips.length;l<f;l++)if(t.skips[l].test(c))return!1;for(l=0,f=t.names.length;l<f;l++)if(t.names[l].test(c))return!0;return!1}function o(c){return c.toString().substring(2,c.toString().length-2).replace(/\.\*\?$/,"*")}function u(c){return c instanceof Error?c.stack||c.message:c}function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}var Kr=Qr;(function(r,e){e.formatArgs=n,e.save=s,e.load=i,e.useColors=t,e.storage=a(),e.destroy=(()=>{let u=!1;return()=>{u||(u=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function t(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(u){if(u[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+u[0]+(this.useColors?"%c ":" ")+"+"+r.exports.humanize(this.diff),!this.useColors)return;const d="color: "+this.color;u.splice(1,0,d,"color: inherit");let c=0,l=0;u[0].replace(/%[a-zA-Z%]/g,f=>{f!=="%%"&&(c++,f==="%c"&&(l=c))}),u.splice(l,0,d)}e.log=console.debug||console.log||(()=>{});function s(u){try{u?e.storage.setItem("debug",u):e.storage.removeItem("debug")}catch{}}function i(){let u;try{u=e.storage.getItem("debug")}catch{}return!u&&typeof process<"u"&&"env"in process&&(u={}.DEBUG),u}function a(){try{return localStorage}catch{}}r.exports=Kr(e);const{formatters:o}=r.exports;o.j=function(u){try{return JSON.stringify(u)}catch(d){return"[UnexpectedJSONParseError]: "+d.message}}})(wt,wt.exports);/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function Ct(r){return Object.prototype.toString.call(r)==="[object Object]"}function Zr(r){var e,t;return Ct(r)===!1?!1:(e=r.constructor,e===void 0?!0:(t=e.prototype,!(Ct(t)===!1||t.hasOwnProperty("isPrototypeOf")===!1)))}const en=typeof Buffer>"u"?()=>!1:r=>Buffer.isBuffer(r),tn=["boolean","string","number"];function rn(){return{processOptions:r=>{const e=r.body;return!e||!(!(typeof e.pipe=="function")&&!en(e)&&(tn.indexOf(typeof e)!==-1||Array.isArray(e)||Zr(e)))?r:Object.assign({},r,{body:JSON.stringify(r.body),headers:Object.assign({},r.headers,{"Content-Type":"application/json"})})}}}function nn(r){return{onResponse:t=>{const n=t.headers["content-type"]||"",s=r&&r.force||n.indexOf("application/json")!==-1;return!t.body||!n||!s?t:Object.assign({},t,{body:e(t.body)})},processOptions:t=>Object.assign({},t,{headers:Object.assign({Accept:"application/json"},t.headers)})};function e(t){try{return JSON.parse(t)}catch(n){throw n.message="Failed to parsed response body as JSON: ".concat(n.message),n}}}let ne={};typeof globalThis<"u"?ne=globalThis:typeof window<"u"?ne=window:typeof global<"u"?ne=global:typeof self<"u"&&(ne=self);var sn=ne;function on(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).implementation||sn.Observable;if(!e)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(t,n)=>new e(s=>(t.error.subscribe(i=>s.error(i)),t.progress.subscribe(i=>s.next(Object.assign({type:"progress"},i))),t.response.subscribe(i=>{s.next(Object.assign({type:"response"},i)),s.complete()}),t.request.publish(n),()=>t.abort.publish()))}}function an(){return{onRequest:r=>{if(r.adapter!=="xhr")return;const e=r.request,t=r.context;"upload"in e&&"onprogress"in e.upload&&(e.upload.onprogress=n("upload")),"onprogress"in e&&(e.onprogress=n("download"));function n(s){return i=>{const a=i.lengthComputable?i.loaded/i.total*100:-1;t.channels.progress.publish({stage:s,percent:a,total:i.total,loaded:i.loaded,lengthComputable:i.lengthComputable})}}}}}var cn=Object.defineProperty,un=(r,e,t)=>e in r?cn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,fe=(r,e,t)=>(un(r,typeof e!="symbol"?e+"":e,t),t);class ln{constructor(e){fe(this,"__CANCEL__",!0),fe(this,"message"),this.message=e}toString(){return"Cancel".concat(this.message?": ".concat(this.message):"")}}const _t=class{constructor(e){if(fe(this,"promise"),fe(this,"reason"),typeof e!="function")throw new TypeError("executor must be a function.");let t=null;this.promise=new Promise(n=>{t=n}),e(n=>{this.reason||(this.reason=new ln(n),t(this.reason))})}};fe(_t,"source",()=>{let r;return{token:new _t(t=>{r=t}),cancel:r}});var jt=(r,e,t)=>t.method!=="GET"&&t.method!=="HEAD"?!1:r.isNetworkError||!1;const fn=r=>r!==null&&typeof r=="object"&&typeof r.pipe=="function";var dn=r=>{const e=r.maxRetries||5,t=r.retryDelay||hn,n=r.shouldRetry;return{onError:(s,i)=>{const a=i.options,o=a.maxRetries||e,u=a.shouldRetry||n,d=a.attemptNumber||0;if(fn(a.body)||!u(s,d,a)||d>=o)return s;const c=Object.assign({},i,{options:Object.assign({},a,{attemptNumber:d+1})});return setTimeout(()=>i.channels.request.publish(c),t(d)),null}}};function hn(r){return 100*Math.pow(2,r)+Math.random()*100}const ut=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return dn({shouldRetry:jt,...r})};ut.shouldRetry=jt;var st=function(r,e){return st=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])},st(r,e)};function lt(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");st(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function Et(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function qe(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),s,i=[],a;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(o){a={error:o}}finally{try{s&&!s.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return i}function Me(r,e,t){if(t||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return r.concat(i||Array.prototype.slice.call(e))}function q(r){return typeof r=="function"}function Ut(r){var e=function(n){Error.call(n),n.stack=new Error().stack},t=r(e);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var et=Ut(function(r){return function(t){r(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(n,s){return s+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function St(r,e){if(r){var t=r.indexOf(e);0<=t&&r.splice(t,1)}}var ft=function(){function r(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return r.prototype.unsubscribe=function(){var e,t,n,s,i;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var o=Et(a),u=o.next();!u.done;u=o.next()){var d=u.value;d.remove(this)}}catch(h){e={error:h}}finally{try{u&&!u.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}else a.remove(this);var c=this.initialTeardown;if(q(c))try{c()}catch(h){i=h instanceof et?h.errors:[h]}var l=this._finalizers;if(l){this._finalizers=null;try{for(var f=Et(l),v=f.next();!v.done;v=f.next()){var w=v.value;try{Ot(w)}catch(h){i=i??[],h instanceof et?i=Me(Me([],qe(i)),qe(h.errors)):i.push(h)}}}catch(h){n={error:h}}finally{try{v&&!v.done&&(s=f.return)&&s.call(f)}finally{if(n)throw n.error}}}if(i)throw new et(i)}},r.prototype.add=function(e){var t;if(e&&e!==this)if(this.closed)Ot(e);else{if(e instanceof r){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}},r.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},r.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},r.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&St(t,e)},r.prototype.remove=function(e){var t=this._finalizers;t&&St(t,e),e instanceof r&&e._removeParent(this)},r.EMPTY=function(){var e=new r;return e.closed=!0,e}(),r}();ft.EMPTY;function Wt(r){return r instanceof ft||r&&"closed"in r&&q(r.remove)&&q(r.add)&&q(r.unsubscribe)}function Ot(r){q(r)?r():r.unsubscribe()}var Lt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},it={setTimeout:function(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];var s=it.delegate;return s!=null&&s.setTimeout?s.setTimeout.apply(s,Me([r,e],qe(t))):setTimeout.apply(void 0,Me([r,e],qe(t)))},clearTimeout:function(r){var e=it.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(r)},delegate:void 0};function pn(r){it.setTimeout(function(){throw r})}function Tt(){}function gn(r){r()}var dt=function(r){lt(e,r);function e(t){var n=r.call(this)||this;return n.isStopped=!1,t?(n.destination=t,Wt(t)&&t.add(n)):n.destination=wn,n}return e.create=function(t,n,s){return new ot(t,n,s)},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(ft),yn=Function.prototype.bind;function tt(r,e){return yn.call(r,e)}var mn=function(){function r(e){this.partialObserver=e}return r.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(n){ve(n)}},r.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(n){ve(n)}else ve(e)},r.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){ve(t)}},r}(),ot=function(r){lt(e,r);function e(t,n,s){var i=r.call(this)||this,a;if(q(t)||!t)a={next:t??void 0,error:n??void 0,complete:s??void 0};else{var o;i&&Lt.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=function(){return i.unsubscribe()},a={next:t.next&&tt(t.next,o),error:t.error&&tt(t.error,o),complete:t.complete&&tt(t.complete,o)}):a=t}return i.destination=new mn(a),i}return e}(dt);function ve(r){pn(r)}function vn(r){throw r}var wn={closed:!0,next:Tt,error:vn,complete:Tt},bn=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Cn(r){return r}function _n(r){return r.length===0?Cn:r.length===1?r[0]:function(t){return r.reduce(function(n,s){return s(n)},t)}}var de=function(){function r(e){e&&(this._subscribe=e)}return r.prototype.lift=function(e){var t=new r;return t.source=this,t.operator=e,t},r.prototype.subscribe=function(e,t,n){var s=this,i=Sn(e)?e:new ot(e,t,n);return gn(function(){var a=s,o=a.operator,u=a.source;i.add(o?o.call(i,u):u?s._subscribe(i):s._trySubscribe(i))}),i},r.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},r.prototype.forEach=function(e,t){var n=this;return t=At(t),new t(function(s,i){var a=new ot({next:function(o){try{e(o)}catch(u){i(u),a.unsubscribe()}},error:i,complete:s});n.subscribe(a)})},r.prototype._subscribe=function(e){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(e)},r.prototype[bn]=function(){return this},r.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return _n(e)(this)},r.prototype.toPromise=function(e){var t=this;return e=At(e),new e(function(n,s){var i;t.subscribe(function(a){return i=a},function(a){return s(a)},function(){return n(i)})})},r.create=function(e){return new r(e)},r}();function At(r){var e;return(e=r??Lt.Promise)!==null&&e!==void 0?e:Promise}function En(r){return r&&q(r.next)&&q(r.error)&&q(r.complete)}function Sn(r){return r&&r instanceof dt||En(r)&&Wt(r)}function On(r){return q(r==null?void 0:r.lift)}function Nt(r){return function(e){if(On(e))return e.lift(function(t){try{return r(t,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ht(r,e,t,n,s){return new Tn(r,e,t,n,s)}var Tn=function(r){lt(e,r);function e(t,n,s,i,a,o){var u=r.call(this,t)||this;return u.onFinalize=a,u.shouldUnsubscribe=o,u._next=n?function(d){try{n(d)}catch(c){t.error(c)}}:r.prototype._next,u._error=i?function(d){try{i(d)}catch(c){t.error(c)}finally{this.unsubscribe()}}:r.prototype._error,u._complete=s?function(){try{s()}catch(d){t.error(d)}finally{this.unsubscribe()}}:r.prototype._complete,u}return e.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;r.prototype.unsubscribe.call(this),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}},e}(dt),An=Ut(function(r){return function(){r(this),this.name="EmptyError",this.message="no elements in sequence"}});function E(r,e){var t=typeof e=="object";return new Promise(function(n,s){var i=!1,a;r.subscribe({next:function(o){a=o,i=!0},error:s,complete:function(){i?n(a):t?n(e.defaultValue):s(new An)}})})}function J(r,e){return Nt(function(t,n){var s=0;t.subscribe(Ht(n,function(i){n.next(r.call(e,i,s++))}))})}function he(r,e){return Nt(function(t,n){var s=0;t.subscribe(Ht(n,function(i){return r.call(e,i,s++)&&n.next(i)}))})}var Bt=[],Pn=Object.defineProperty,Rn=(r,e,t)=>e in r?Pn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,D=(r,e,t)=>(Rn(r,typeof e!="symbol"?e+"":e,t),t);const rt=5;class xn extends Error{constructor(e){const t=zt(e);super(t.message),D(this,"response"),D(this,"statusCode",400),D(this,"responseBody"),D(this,"details"),Object.assign(this,t)}}class Fn extends Error{constructor(e){const t=zt(e);super(t.message),D(this,"response"),D(this,"statusCode",500),D(this,"responseBody"),D(this,"details"),Object.assign(this,t)}}function zt(r){const e=r.body,t={response:r,statusCode:r.statusCode,responseBody:In(e,r),message:"",details:void 0};if(e.error&&e.message)return t.message="".concat(e.error," - ").concat(e.message),t;if(qn(e)){const n=e.error.items||[],s=n.slice(0,rt).map(a=>{var o;return(o=a.error)==null?void 0:o.description}).filter(Boolean);let i=s.length?`:
- `.concat(s.join(`
- `)):"";return n.length>rt&&(i+=`
...and `.concat(n.length-rt," more")),t.message="".concat(e.error.description).concat(i),t.details=e.error,t}return e.error&&e.error.description?(t.message=e.error.description,t.details=e.error,t):(t.message=e.error||e.message||Mn(r),t)}function qn(r){return Pt(r)&&Pt(r.error)&&r.error.type==="mutationError"&&typeof r.error.description=="string"}function Pt(r){return typeof r=="object"&&r!==null&&!Array.isArray(r)}function Mn(r){const e=r.statusMessage?" ".concat(r.statusMessage):"";return"".concat(r.method,"-request to ").concat(r.url," resulted in HTTP ").concat(r.statusCode).concat(e)}function In(r,e){return(e.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(r,null,2):r}const $n={onResponse:r=>{if(r.statusCode>=500)throw new Fn(r);if(r.statusCode>=400)throw new xn(r);return r}},Dn={onResponse:r=>{const e=r.headers["x-sanity-warning"];return(Array.isArray(e)?e:[e]).filter(Boolean).forEach(n=>console.warn(n)),r}};function Gt(r,e){let{maxRetries:t=5,retryDelay:n}=e;const s=Yr([t>0?ut({retryDelay:n,maxRetries:t,shouldRetry:kn}):{},...r,Dn,rn(),nn(),an(),$n,on({implementation:de})]);function i(a){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:s)({maxRedirects:0,...a})}return i.defaultRequester=s,i}function kn(r,e,t){const n=t.method==="GET"||t.method==="HEAD",i=(t.uri||t.url).startsWith("/data/query"),a=r.response&&(r.response.statusCode===429||r.response.statusCode===502||r.response.statusCode===503);return(n||i)&&a?!0:ut.shouldRetry(r,e,t)}const jn="https://www.sanity.io/help/";function ht(r){return jn+r}const Rt=["image","file"],xt=["before","after","replace"],Vt=r=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(r))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},Un=r=>{if(!/^[-a-z0-9]+$/i.test(r))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},Wn=r=>{if(Rt.indexOf(r)===-1)throw new Error("Invalid asset type: ".concat(r,". Must be one of ").concat(Rt.join(", ")))},ce=(r,e)=>{if(e===null||typeof e!="object"||Array.isArray(e))throw new Error("".concat(r,"() takes an object of properties"))},Jt=(r,e)=>{if(typeof e!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(e)||e.includes(".."))throw new Error("".concat(r,'(): "').concat(e,'" is not a valid document ID'))},Ie=(r,e)=>{if(!e._id)throw new Error("".concat(r,'() requires that the document contains an ID ("_id" property)'));Jt(r,e._id)},Ln=(r,e,t)=>{const n="insert(at, selector, items)";if(xt.indexOf(r)===-1){const s=xt.map(i=>'"'.concat(i,'"')).join(", ");throw new Error("".concat(n,' takes an "at"-argument which is one of: ').concat(s))}if(typeof e!="string")throw new Error("".concat(n,' takes a "selector"-argument which must be a string'));if(!Array.isArray(t))throw new Error("".concat(n,' takes an "items"-argument which must be an array'))},Yt=r=>{if(!r.dataset)throw new Error("`dataset` must be provided to perform queries");return r.dataset||""},Xt=r=>{if(typeof r!="string"||!/^[a-z0-9._-]{1,75}$/i.test(r))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return r};function Nn(r){let e=!1,t;return function(){return e||(t=r(...arguments),e=!0),t}}const Je=r=>Nn(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return console.warn(r.join(" "),...t)}),Hn=Je(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),Bn=Je(["The Sanity client is configured with the `perspective` set to `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),zn=Je(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.","See ".concat(ht("js-client-browser-token")," for more information and how to hide this warning.")]),Gn=Je(["Using the Sanity client without specifying an API version is deprecated.","See ".concat(ht("js-client-api-version"))]),Vn="apicdn.sanity.io",$e={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0},Jn=["localhost","127.0.0.1","0.0.0.0"],Yn=r=>Jn.indexOf(r)!==-1,Xn=function(e){if(e==="1"||e==="X")return;const t=new Date(e);if(!(/^\d{4}-\d{2}-\d{2}$/.test(e)&&t instanceof Date&&t.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")},Qt=function(e){switch(e){case"previewDrafts":case"published":case"raw":return;default:throw new TypeError("Invalid API perspective string, expected `published`, `previewDrafts` or `raw`")}},Kt=(r,e)=>{const t=Object.assign({},e,r);t.apiVersion||Gn();const n=Object.assign({},$e,t),s=n.useProjectHostname;if(typeof Promise>"u"){const l=ht("js-client-promise-polyfill");throw new Error("No native Promise-implementation found, polyfill needed - see ".concat(l))}if(s&&!n.projectId)throw new Error("Configuration must contain `projectId`");if(typeof n.perspective=="string"&&Qt(n.perspective),"encodeSourceMapAtPath"in n||"encodeSourceMap"in n||"studioUrl"in n||"logger"in n)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client', such as 'encodeSourceMapAtPath', 'encodeSourceMap', 'studioUrl' and 'logger'. Make sure you're using the right import.");const i=typeof window<"u"&&window.location&&window.location.hostname,a=i&&Yn(window.location.hostname);i&&a&&n.token&&n.ignoreBrowserTokenWarning!==!0?zn():typeof n.useCdn>"u"&&Hn(),s&&Un(n.projectId),n.dataset&&Vt(n.dataset),"requestTagPrefix"in n&&(n.requestTagPrefix=n.requestTagPrefix?Xt(n.requestTagPrefix).replace(/\.+$/,""):void 0),n.apiVersion="".concat(n.apiVersion).replace(/^v/,""),n.isDefaultApi=n.apiHost===$e.apiHost,n.useCdn=n.useCdn!==!1&&!n.withCredentials,Xn(n.apiVersion);const o=n.apiHost.split("://",2),u=o[0],d=o[1],c=n.isDefaultApi?Vn:d;return n.useProjectHostname?(n.url="".concat(u,"://").concat(n.projectId,".").concat(d,"/v").concat(n.apiVersion),n.cdnUrl="".concat(u,"://").concat(n.projectId,".").concat(c,"/v").concat(n.apiVersion)):(n.url="".concat(n.apiHost,"/v").concat(n.apiVersion),n.cdnUrl=n.url),n},Qn="X-Sanity-Project-ID";function Kn(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const t={},n=e.token||r.token;n&&(t.Authorization="Bearer ".concat(n)),!e.useGlobalApi&&!r.useProjectHostname&&r.projectId&&(t[Qn]=r.projectId);const s=!!(typeof e.withCredentials>"u"?r.token||r.withCredentials:e.withCredentials),i=typeof e.timeout>"u"?r.timeout:e.timeout;return Object.assign({},e,{headers:Object.assign({},t,e.headers||{}),timeout:typeof i>"u"?5*60*1e3:i,proxy:e.proxy||r.proxy,json:!0,withCredentials:s,fetch:typeof e.fetch=="object"&&typeof r.fetch=="object"?{...r.fetch,...e.fetch}:e.fetch||r.fetch})}function Zt(r){if(typeof r=="string"||Array.isArray(r))return{id:r};if(typeof r=="object"&&r!==null&&"query"in r&&typeof r.query=="string")return"params"in r&&typeof r.params=="object"&&r.params!==null?{query:r.query,params:r.params}:{query:r.query};const e=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

`.concat(e))}const er=r=>{let{query:e,params:t={},options:n={}}=r;const s=new URLSearchParams,{tag:i,...a}=n;i&&s.append("tag",i),s.append("query",e);for(const[o,u]of Object.entries(t))s.append("$".concat(o),JSON.stringify(u));for(const[o,u]of Object.entries(a))u&&s.append(o,"".concat(u));return"?".concat(s)};var Zn=Object.defineProperty,es=(r,e,t)=>e in r?Zn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ft=(r,e,t)=>(es(r,typeof e!="symbol"?e+"":e,t),t),tr=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)},Z=(r,e,t)=>(tr(r,e,"read from private field"),t?t.call(r):e.get(r)),rr=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)},nr=(r,e,t,n)=>(tr(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),Q,K;class sr{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ft(this,"selection"),Ft(this,"operations"),this.selection=e,this.operations=t}set(e){return this._assign("set",e)}setIfMissing(e){return this._assign("setIfMissing",e)}diffMatchPatch(e){return ce("diffMatchPatch",e),this._assign("diffMatchPatch",e)}unset(e){if(!Array.isArray(e))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:e}),this}inc(e){return this._assign("inc",e)}dec(e){return this._assign("dec",e)}insert(e,t,n){return Ln(e,t,n),this._assign("insert",{[e]:t,items:n})}append(e,t){return this.insert("after","".concat(e,"[-1]"),t)}prepend(e,t){return this.insert("before","".concat(e,"[0]"),t)}splice(e,t,n,s){const i=typeof n>"u"||n===-1,a=t<0?t-1:t,o=i?-1:Math.max(0,t+n),u=a<0&&o>=0?"":o,d="".concat(e,"[").concat(a,":").concat(u,"]");return this.insert("replace",d,s||[])}ifRevisionId(e){return this.operations.ifRevisionID=e,this}serialize(){return{...Zt(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return ce(e,t),this.operations=Object.assign({},this.operations,{[e]:Object.assign({},n&&this.operations[e]||{},t)}),this}_set(e,t){return this._assign(e,t,!1)}}const ts=class ir extends sr{constructor(e,t,n){super(e,t),rr(this,Q,void 0),nr(this,Q,n)}clone(){return new ir(this.selection,{...this.operations},Z(this,Q))}commit(e){if(!Z(this,Q))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const t=typeof this.selection=="string",n=Object.assign({returnFirst:t,returnDocuments:!0},e);return Z(this,Q).mutate({patch:this.serialize()},n)}};Q=new WeakMap;let ue=ts;const rs=class or extends sr{constructor(e,t,n){super(e,t),rr(this,K,void 0),nr(this,K,n)}clone(){return new or(this.selection,{...this.operations},Z(this,K))}commit(e){if(!Z(this,K))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const t=typeof this.selection=="string",n=Object.assign({returnFirst:t,returnDocuments:!0},e);return Z(this,K).mutate({patch:this.serialize()},n)}};K=new WeakMap;let le=rs;var ns=Object.defineProperty,ss=(r,e,t)=>e in r?ns(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,qt=(r,e,t)=>(ss(r,typeof e!="symbol"?e+"":e,t),t),ar=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)},k=(r,e,t)=>(ar(r,e,"read from private field"),t?t.call(r):e.get(r)),cr=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)},ur=(r,e,t,n)=>(ar(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),W,L;const lr={returnDocuments:!1};class fr{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;qt(this,"operations"),qt(this,"trxId"),this.operations=e,this.trxId=t}create(e){return ce("create",e),this._add({create:e})}createIfNotExists(e){const t="createIfNotExists";return ce(t,e),Ie(t,e),this._add({[t]:e})}createOrReplace(e){const t="createOrReplace";return ce(t,e),Ie(t,e),this._add({[t]:e})}delete(e){return Jt("delete",e),this._add({delete:{id:e}})}transactionId(e){return e?(this.trxId=e,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(e){return this.operations.push(e),this}}const is=class dr extends fr{constructor(e,t,n){super(e,n),cr(this,W,void 0),ur(this,W,t)}clone(){return new dr([...this.operations],k(this,W),this.trxId)}commit(e){if(!k(this,W))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return k(this,W).mutate(this.serialize(),Object.assign({transactionId:this.trxId},lr,e||{}))}patch(e,t){const n=typeof t=="function";if(typeof e!="string"&&e instanceof le)return this._add({patch:e.serialize()});if(n){const i=t(new le(e,{},k(this,W)));if(!(i instanceof le))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:i.serialize()})}return this._add({patch:{id:e,...t}})}};W=new WeakMap;let hr=is;const os=class pr extends fr{constructor(e,t,n){super(e,n),cr(this,L,void 0),ur(this,L,t)}clone(){return new pr([...this.operations],k(this,L),this.trxId)}commit(e){if(!k(this,L))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return k(this,L).mutate(this.serialize(),Object.assign({transactionId:this.trxId},lr,e||{}))}patch(e,t){const n=typeof t=="function";if(typeof e!="string"&&e instanceof ue)return this._add({patch:e.serialize()});if(n){const i=t(new ue(e,{},k(this,L)));if(!(i instanceof ue))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:i.serialize()})}return this._add({patch:{id:e,...t}})}};L=new WeakMap;let gr=os;const as=(r,e)=>r===!1?void 0:typeof r>"u"?e:r,cs=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dryRun:r.dryRun,returnIds:!0,returnDocuments:as(r.returnDocuments,!0),visibility:r.visibility||"sync",autoGenerateArrayKeys:r.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:r.skipCrossDatasetReferenceValidation}},pt=r=>r.type==="response",us=r=>r.body,ls=(r,e)=>r.reduce((t,n)=>(t[e(n)]=n,t),Object.create(null)),fs=11264;function yr(r,e,t,n){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=s.filterResponse===!1?c=>c:c=>c.result,{cache:a,next:o,...u}={useAbortSignal:typeof s.signal<"u",...s},d=typeof a<"u"||typeof o<"u"?{...u,fetch:{cache:a,next:o}}:u;return pe(r,e,"query",{query:t,params:n},d).pipe(J(i))}function mr(r,e,t){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s={uri:te(r,"doc",t),json:!0,tag:n.tag};return ge(r,e,s).pipe(he(pt),J(i=>i.body.documents&&i.body.documents[0]))}function vr(r,e,t){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s={uri:te(r,"doc",t.join(",")),json:!0,tag:n.tag};return ge(r,e,s).pipe(he(pt),J(i=>{const a=ls(i.body.documents||[],o=>o._id);return t.map(o=>a[o]||null)}))}function wr(r,e,t,n){return Ie("createIfNotExists",t),Ye(r,e,t,"createIfNotExists",n)}function br(r,e,t,n){return Ie("createOrReplace",t),Ye(r,e,t,"createOrReplace",n)}function Cr(r,e,t,n){return pe(r,e,"mutate",{mutations:[{delete:Zt(t)}]},n)}function _r(r,e,t,n){let s;t instanceof le||t instanceof ue?s={patch:t.serialize()}:t instanceof hr||t instanceof gr?s=t.serialize():s=t;const i=Array.isArray(s)?s:[s],a=n&&n.transactionId||void 0;return pe(r,e,"mutate",{mutations:i,transactionId:a},n)}function pe(r,e,t,n){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=t==="mutate",a=t==="query",o=i?"":er(n),u=!i&&o.length<fs,d=u?o:"",c=s.returnFirst,{timeout:l,token:f,tag:v,headers:w}=s,h=te(r,t,d),p={method:u?"GET":"POST",uri:h,json:!0,body:u?void 0:n,query:i&&cs(s),timeout:l,headers:w,token:f,tag:v,perspective:s.perspective,resultSourceMap:s.resultSourceMap,canUseCdn:a,signal:s.signal,fetch:s.fetch,useAbortSignal:s.useAbortSignal};return ge(r,e,p).pipe(he(pt),J(us),J(m=>{if(!i)return m;const b=m.results||[];if(s.returnDocuments)return c?b[0]&&b[0].document:b.map(O=>O.document);const F=c?"documentId":"documentIds",y=c?b[0]&&b[0].id:b.map(O=>O.id);return{transactionId:m.transactionId,results:b,[F]:y}}))}function Ye(r,e,t,n){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i={[n]:t},a=Object.assign({returnFirst:!0,returnDocuments:!0},s);return pe(r,e,"mutate",{mutations:[i]},a)}function ge(r,e,t){var n;const s=t.url||t.uri,i=r.config(),a=typeof t.canUseCdn>"u"?["GET","HEAD"].indexOf(t.method||"GET")>=0&&s.indexOf("/data/")===0:t.canUseCdn;let o=i.useCdn&&a;const u=t.tag&&i.requestTagPrefix?[i.requestTagPrefix,t.tag].join("."):t.tag||i.requestTagPrefix;if(u&&(t.query={tag:Xt(u),...t.query}),["GET","HEAD","POST"].indexOf(t.method||"GET")>=0&&s.indexOf("/data/query/")===0){((n=t.resultSourceMap)!=null?n:i.resultSourceMap)&&(t.query={resultSourceMap:!0,...t.query});const l=t.perspective||i.perspective;typeof l=="string"&&l!=="raw"&&(Qt(l),t.query={perspective:l,...t.query},l==="previewDrafts"&&o&&(o=!1,Bn()))}const d=Kn(i,Object.assign({},t,{url:gt(r,s,o)})),c=new de(l=>e(d,i.requester).subscribe(l));return t.signal?c.pipe(ds(t.signal)):c}function x(r,e,t){return ge(r,e,t).pipe(he(s=>s.type==="response"),J(s=>s.body))}function te(r,e,t){const n=r.config(),s=Yt(n),i="/".concat(e,"/").concat(s),a=t?"".concat(i,"/").concat(t):i;return"/data".concat(a).replace(/\/($|\?)/,"$1")}function gt(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const{url:n,cdnUrl:s}=r.config(),i=t?s:n;return"".concat(i,"/").concat(e.replace(/^\//,""))}function ds(r){return e=>new de(t=>{const n=()=>t.error(ps(r));if(r&&r.aborted){n();return}const s=e.subscribe(t);return r.addEventListener("abort",n),()=>{r.removeEventListener("abort",n),s.unsubscribe()}})}const hs=!!globalThis.DOMException;function ps(r){var e,t;if(hs)return new DOMException((e=r==null?void 0:r.reason)!=null?e:"The operation was aborted.","AbortError");const n=new Error((t=r==null?void 0:r.reason)!=null?t:"The operation was aborted.");return n.name="AbortError",n}var Er=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)},De=(r,e,t)=>(Er(r,e,"read from private field"),t?t.call(r):e.get(r)),ke=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)},je=(r,e,t,n)=>(Er(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),Se,Oe,Te,Ae;class gs{constructor(e,t){ke(this,Se,void 0),ke(this,Oe,void 0),je(this,Se,e),je(this,Oe,t)}upload(e,t,n){return Sr(De(this,Se),De(this,Oe),e,t,n)}}Se=new WeakMap;Oe=new WeakMap;class ys{constructor(e,t){ke(this,Te,void 0),ke(this,Ae,void 0),je(this,Te,e),je(this,Ae,t)}upload(e,t,n){const s=Sr(De(this,Te),De(this,Ae),e,t,n);return E(s.pipe(he(i=>i.type==="response"),J(i=>i.body.document)))}}Te=new WeakMap;Ae=new WeakMap;function Sr(r,e,t,n){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};Wn(t);let i=s.extract||void 0;i&&!i.length&&(i=["none"]);const a=Yt(r.config()),o=t==="image"?"images":"files",u=ms(s,n),{tag:d,label:c,title:l,description:f,creditLine:v,filename:w,source:h}=u,p={label:c,title:l,description:f,filename:w,meta:i,creditLine:v};return h&&(p.sourceId=h.id,p.sourceName=h.name,p.sourceUrl=h.url),ge(r,e,{tag:d,method:"POST",timeout:u.timeout||0,uri:"/assets/".concat(o,"/").concat(a),headers:u.contentType?{"Content-Type":u.contentType}:{},query:p,body:n})}function ms(r,e){return typeof File>"u"||!(e instanceof File)?r:Object.assign({filename:r.preserveFilename===!1?void 0:e.name,contentType:e.type},r)}var vs=(r,e)=>Object.keys(e).concat(Object.keys(r)).reduce((t,n)=>(t[n]=typeof r[n]>"u"?e[n]:r[n],t),{});const ws=(r,e)=>e.reduce((t,n)=>(typeof r[n]>"u"||(t[n]=r[n]),t),{}),bs=16e3-1200,Cs=["includePreviousRevision","includeResult","visibility","effectFormat","tag"],_s={includeResult:!0};function Or(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{url:n,token:s,withCredentials:i,requestTagPrefix:a}=this.config(),o=t.tag&&a?[a,t.tag].join("."):t.tag,u={...vs(t,_s),tag:o},d=ws(u,Cs),c=er({query:r,params:e,options:{tag:o,...d}}),l="".concat(n).concat(te(this,"listen",c));if(l.length>bs)return new de(h=>h.error(new Error("Query too large for listener")));const f=u.events?u.events:["mutation"],v=f.indexOf("reconnect")!==-1,w={};return(s||i)&&(w.withCredentials=!0),s&&(w.headers={Authorization:"Bearer ".concat(s)}),new de(h=>{let p;me().then(T=>{p=T}).catch(T=>{h.error(T),Xe()});let m,b=!1;function F(){b||(ye(),!b&&p.readyState===p.CLOSED&&(re(),clearTimeout(m),m=setTimeout(Fr,100)))}function y(T){h.error(Es(T))}function O(T){const M=Tr(T);return M instanceof Error?h.error(M):h.next(M)}function Y(){b=!0,re(),h.complete()}function re(){p&&(p.removeEventListener("error",F),p.removeEventListener("channelError",y),p.removeEventListener("disconnect",Y),f.forEach(T=>p.removeEventListener(T,O)),p.close())}function ye(){v&&h.next({type:"reconnect"})}async function me(){const{default:T}=await qr(()=>import("./browser.c1ccbc10.js").then(Qe=>Qe.b),[],import.meta.url),M=new T(l,w);return M.addEventListener("error",F),M.addEventListener("channelError",y),M.addEventListener("disconnect",Y),f.forEach(Qe=>M.addEventListener(Qe,O)),M}function Fr(){me().then(T=>{p=T}).catch(T=>{h.error(T),Xe()})}function Xe(){b=!0,re()}return Xe})}function Tr(r){try{const e=r.data&&JSON.parse(r.data)||{};return Object.assign({type:r.type},e)}catch(e){return e}}function Es(r){if(r instanceof Error)return r;const e=Tr(r);return e instanceof Error?e:new Error(Ss(e))}function Ss(r){return r.error?r.error.description?r.error.description:typeof r.error=="string"?r.error:JSON.stringify(r.error,null,2):r.message||"Unknown listener error"}var Ar=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)},S=(r,e,t)=>(Ar(r,e,"read from private field"),t?t.call(r):e.get(r)),Ue=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)},We=(r,e,t,n)=>(Ar(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),N,H,B,z;class Os{constructor(e,t){Ue(this,N,void 0),Ue(this,H,void 0),We(this,N,e),We(this,H,t)}create(e,t){return ee(S(this,N),S(this,H),"PUT",e,t)}edit(e,t){return ee(S(this,N),S(this,H),"PATCH",e,t)}delete(e){return ee(S(this,N),S(this,H),"DELETE",e)}list(){return x(S(this,N),S(this,H),{uri:"/datasets"})}}N=new WeakMap;H=new WeakMap;class Ts{constructor(e,t){Ue(this,B,void 0),Ue(this,z,void 0),We(this,B,e),We(this,z,t)}create(e,t){return E(ee(S(this,B),S(this,z),"PUT",e,t))}edit(e,t){return E(ee(S(this,B),S(this,z),"PATCH",e,t))}delete(e){return E(ee(S(this,B),S(this,z),"DELETE",e))}list(){return E(x(S(this,B),S(this,z),{uri:"/datasets"}))}}B=new WeakMap;z=new WeakMap;function ee(r,e,t,n,s){return Vt(n),x(r,e,{method:t,uri:"/datasets/".concat(n),body:s})}var Pr=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)},j=(r,e,t)=>(Pr(r,e,"read from private field"),t?t.call(r):e.get(r)),Le=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)},Ne=(r,e,t,n)=>(Pr(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),se,ie,oe,ae;class As{constructor(e,t){Le(this,se,void 0),Le(this,ie,void 0),Ne(this,se,e),Ne(this,ie,t)}list(e){const t=(e==null?void 0:e.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return x(j(this,se),j(this,ie),{uri:t})}getById(e){return x(j(this,se),j(this,ie),{uri:"/projects/".concat(e)})}}se=new WeakMap;ie=new WeakMap;class Ps{constructor(e,t){Le(this,oe,void 0),Le(this,ae,void 0),Ne(this,oe,e),Ne(this,ae,t)}list(e){const t=(e==null?void 0:e.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return E(x(j(this,oe),j(this,ae),{uri:t}))}getById(e){return E(x(j(this,oe),j(this,ae),{uri:"/projects/".concat(e)}))}}oe=new WeakMap;ae=new WeakMap;var Rr=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)},He=(r,e,t)=>(Rr(r,e,"read from private field"),t?t.call(r):e.get(r)),Be=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)},ze=(r,e,t,n)=>(Rr(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),Pe,Re,xe,Fe;class Rs{constructor(e,t){Be(this,Pe,void 0),Be(this,Re,void 0),ze(this,Pe,e),ze(this,Re,t)}getById(e){return x(He(this,Pe),He(this,Re),{uri:"/users/".concat(e)})}}Pe=new WeakMap;Re=new WeakMap;class xs{constructor(e,t){Be(this,xe,void 0),Be(this,Fe,void 0),ze(this,xe,e),ze(this,Fe,t)}getById(e){return E(x(He(this,xe),He(this,Fe),{uri:"/users/".concat(e)}))}}xe=new WeakMap;Fe=new WeakMap;var Fs=Object.defineProperty,qs=(r,e,t)=>e in r?Fs(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,R=(r,e,t)=>(qs(r,typeof e!="symbol"?e+"":e,t),t),xr=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)},g=(r,e,t)=>(xr(r,e,"read from private field"),t?t.call(r):e.get(r)),Ge=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)},Ve=(r,e,t,n)=>(xr(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),G,_,V,C;const Ms=class at{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$e;R(this,"assets"),R(this,"datasets"),R(this,"projects"),R(this,"users"),Ge(this,G,void 0),Ge(this,_,void 0),R(this,"listen",Or),this.config(t),Ve(this,_,e),this.assets=new gs(this,g(this,_)),this.datasets=new Os(this,g(this,_)),this.projects=new As(this,g(this,_)),this.users=new Rs(this,g(this,_))}clone(){return new at(g(this,_),this.config())}config(e){if(e===void 0)return{...g(this,G)};if(g(this,G)&&g(this,G).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return Ve(this,G,Kt(e,g(this,G)||{})),this}withConfig(e){return new at(g(this,_),{...this.config(),...e})}fetch(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return yr(this,g(this,_),e,t,n)}getDocument(e,t){return mr(this,g(this,_),e,t)}getDocuments(e,t){return vr(this,g(this,_),e,t)}create(e,t){return Ye(this,g(this,_),e,"create",t)}createIfNotExists(e,t){return wr(this,g(this,_),e,t)}createOrReplace(e,t){return br(this,g(this,_),e,t)}delete(e,t){return Cr(this,g(this,_),e,t)}mutate(e,t){return _r(this,g(this,_),e,t)}patch(e,t){return new ue(e,t,this)}transaction(e){return new gr(e,this)}request(e){return x(this,g(this,_),e)}getUrl(e,t){return gt(this,e,t)}getDataUrl(e,t){return te(this,e,t)}};G=new WeakMap;_=new WeakMap;let Is=Ms;const $s=class ct{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$e;R(this,"assets"),R(this,"datasets"),R(this,"projects"),R(this,"users"),R(this,"observable"),Ge(this,V,void 0),Ge(this,C,void 0),R(this,"listen",Or),this.config(t),Ve(this,C,e),this.assets=new ys(this,g(this,C)),this.datasets=new Ts(this,g(this,C)),this.projects=new Ps(this,g(this,C)),this.users=new xs(this,g(this,C)),this.observable=new Is(e,t)}clone(){return new ct(g(this,C),this.config())}config(e){if(e===void 0)return{...g(this,V)};if(g(this,V)&&g(this,V).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(e),Ve(this,V,Kt(e,g(this,V)||{})),this}withConfig(e){return new ct(g(this,C),{...this.config(),...e})}fetch(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return E(yr(this,g(this,C),e,t,n))}getDocument(e,t){return E(mr(this,g(this,C),e,t))}getDocuments(e,t){return E(vr(this,g(this,C),e,t))}create(e,t){return E(Ye(this,g(this,C),e,"create",t))}createIfNotExists(e,t){return E(wr(this,g(this,C),e,t))}createOrReplace(e,t){return E(br(this,g(this,C),e,t))}delete(e,t){return E(Cr(this,g(this,C),e,t))}mutate(e,t){return E(_r(this,g(this,C),e,t))}patch(e,t){return new le(e,t,this)}transaction(e){return new hr(e,this)}request(e){return E(x(this,g(this,C),e))}dataRequest(e,t,n){return E(pe(this,g(this,C),e,t,n))}getUrl(e,t){return gt(this,e,t)}getDataUrl(e,t){return te(this,e,t)}};V=new WeakMap;C=new WeakMap;let Ds=$s;const ks=Gt(Bt,{});ks.defaultRequester;const js=r=>new Ds(Gt(Bt,{maxRetries:r.maxRetries,retryDelay:r.retryDelay}),r);function yt(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];const s=r.length-1;return r.slice(0,s).reduce((i,a,o)=>i+a+t[o],"")+r[s]}const Us="fhctom75",Ws="production",mt=js({projectId:Us,dataset:Ws,useCdn:!1,apiVersion:"2023-03-20"});async function zs(){return await mt.fetch(yt`*[_type == "blogPost" && defined(slug.current)] | order(_createdAt desc)`)}async function Gs(){return await mt.fetch(yt`*[_type == "galleryImage"]{..., image{asset->{url}}}`)}async function Vs(r){return await mt.fetch(yt`*[_type == "blogPost" && slug.current == $slug][0]`,{slug:r})}function Js(r,e){return new Mr(r,e)}new TextEncoder;export{Gs as a,jr as b,Hs as c,mt as d,Js as e,Vs as f,zs as g};
